{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _merge2 = require('lodash/merge');\n\nvar _merge3 = _interopRequireDefault(_merge2);\n\nvar _pick2 = require('lodash/pick');\n\nvar _pick3 = _interopRequireDefault(_pick2);\n\nvar _isArray2 = require('lodash/isArray');\n\nvar _isArray3 = _interopRequireDefault(_isArray2);\n\nvar _isUndefined2 = require('lodash/isUndefined');\n\nvar _isUndefined3 = _interopRequireDefault(_isUndefined2);\n\nvar _isEqual2 = require('lodash/isEqual');\n\nvar _isEqual3 = _interopRequireDefault(_isEqual2);\n\nvar _eq2 = require('lodash/eq');\n\nvar _eq3 = _interopRequireDefault(_eq2);\n\nvar _debounce2 = require('lodash/debounce');\n\nvar _debounce3 = _interopRequireDefault(_debounce2);\n\nvar _flatten2 = require('lodash/flatten');\n\nvar _flatten3 = _interopRequireDefault(_flatten2);\n\nvar _isFunction2 = require('lodash/isFunction');\n\nvar _isFunction3 = _interopRequireDefault(_isFunction2);\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _elementResizeEvent = require('element-resize-event');\n\nvar _elementResizeEvent2 = _interopRequireDefault(_elementResizeEvent);\n\nvar _translateDOMPositionXY = require('dom-lib/lib/transition/translateDOMPositionXY');\n\nvar _domLib = require('dom-lib');\n\nvar _Row = require('./Row');\n\nvar _Row2 = _interopRequireDefault(_Row);\n\nvar _CellGroup = require('./CellGroup');\n\nvar _CellGroup2 = _interopRequireDefault(_CellGroup);\n\nvar _Scrollbar = require('./Scrollbar');\n\nvar _Scrollbar2 = _interopRequireDefault(_Scrollbar);\n\nvar _constants = require('./constants');\n\nvar _utils = require('./utils');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar columnHandledProps = ['align', 'verticalAlign', 'width', 'fixed', 'resizable', 'flexGrow', 'minWidth', 'colSpan'];\nvar SORT_TYPE = {\n  DESC: 'desc',\n  ASC: 'asc'\n};\n\nvar Table = function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  _createClass(Table, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.data !== state.cacheData) {\n        return {\n          cacheData: props.data,\n          data: props.isTree ? (0, _utils.flattenData)(props.data) : props.data\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  function Table(props) {\n    _classCallCheck(this, Table);\n\n    var _this = _possibleConstructorReturn(this, (Table.__proto__ || Object.getPrototypeOf(Table)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var width = props.width,\n        data = props.data,\n        rowKey = props.rowKey,\n        defaultExpandAllRows = props.defaultExpandAllRows,\n        renderRowExpanded = props.renderRowExpanded,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys,\n        _props$children = props.children,\n        children = _props$children === undefined ? [] : _props$children,\n        isTree = props.isTree,\n        defaultSortType = props.defaultSortType;\n    var expandedRowKeys = defaultExpandAllRows ? (0, _utils.findRowKeys)(data, rowKey, (0, _isFunction3.default)(renderRowExpanded)) : defaultExpandedRowKeys || [];\n    var shouldFixedColumn = Array.from(children).some(function (child) {\n      return child && child.props && child.props.fixed;\n    });\n\n    if (isTree && !rowKey) {\n      throw new Error('The `rowKey` is required when set isTree');\n    }\n\n    _this.state = {\n      expandedRowKeys: expandedRowKeys,\n      shouldFixedColumn: shouldFixedColumn,\n      cacheData: data,\n      data: isTree ? (0, _utils.flattenData)(data) : data,\n      width: width || 0,\n      columnWidth: 0,\n      dataKey: 0,\n      contentHeight: 0,\n      contentWidth: 0,\n      tableRowsMaxHeight: [],\n      sortType: defaultSortType,\n      scrollY: 0,\n      isScrolling: false,\n      fixedHeader: false\n    };\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = new _domLib.WheelHandler(_this._listenWheel, _this.shouldHandleWheelX, _this.shouldHandleWheelY, false);\n    _this._cacheChildrenSize = (0, _flatten3.default)(children).length;\n    _this.translateDOMPositionXY = (0, _translateDOMPositionXY.getTranslateDOMPositionXY)({\n      enable3DTransform: props.translate3d\n    });\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.calculateTableWidth();\n      this.calculateTableContextHeight();\n      this.calculateRowMaxHeight();\n      this.setAffixHeaderOffset();\n      this.initPosition();\n      (0, _elementResizeEvent2.default)(this.table, (0, _debounce3.default)(this.calculateTableWidth, 400));\n      var options = {\n        passive: false\n      };\n      this.wheelListener = (0, _domLib.on)(this.tableBody, 'wheel', this.wheelHandler.onWheel, options);\n      this.touchStartListener = (0, _domLib.on)(this.tableBody, 'touchstart', this.handleTouchStart, options);\n      this.touchMoveListener = (0, _domLib.on)(this.tableBody, 'touchmove', this.handleTouchMove, options);\n      var affixHeader = this.props.affixHeader;\n\n      if (affixHeader === 0 || affixHeader) {\n        this.scrollListener = (0, _domLib.on)(window, 'scroll', this.updateAffixHeaderStatus);\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _cacheChildrenSize = (0, _flatten3.default)(nextProps.children || []).length;\n\n      if (_cacheChildrenSize !== this._cacheChildrenSize) {\n        this._cacheChildrenSize = _cacheChildrenSize;\n        this._cacheCells = null;\n      }\n\n      if (this.props.children !== nextProps.children || this.props.sortColumn !== nextProps.sortColumn || this.props.sortType !== nextProps.sortType) {\n        this._cacheCells = null;\n      }\n\n      return !(0, _eq3.default)(this.props, nextProps) || !(0, _isEqual3.default)(this.state, nextState);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      this.calculateTableContextHeight(prevProps);\n      this.calculateTableContentWidth(prevProps);\n      this.calculateRowMaxHeight();\n      this.updatePosition();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.wheelHandler = null;\n\n      if (this.table) {\n        (0, _elementResizeEvent.unbind)(this.table);\n      }\n\n      if (this.wheelListener) {\n        this.wheelListener.off();\n      }\n\n      if (this.touchStartListener) {\n        this.touchStartListener.off();\n      }\n\n      if (this.touchMoveListener) {\n        this.touchMoveListener.off();\n      }\n\n      if (this.scrollListener) {\n        this.scrollListener.off();\n      }\n    }\n  }, {\n    key: 'getExpandedRowKeys',\n    value: function getExpandedRowKeys() {\n      var expandedRowKeys = this.props.expandedRowKeys;\n      return (0, _isUndefined3.default)(expandedRowKeys) ? this.state.expandedRowKeys : expandedRowKeys;\n    }\n  }, {\n    key: 'getSortType',\n    value: function getSortType() {\n      var sortType = this.props.sortType;\n      return (0, _isUndefined3.default)(sortType) ? this.state.sortType : sortType;\n    }\n  }, {\n    key: 'getScrollCellGroups',\n    value: function getScrollCellGroups() {\n      return this.table.querySelectorAll('.' + this.addPrefix('cell-group-scroll'));\n    }\n  }, {\n    key: 'getFixedLeftCellGroups',\n    value: function getFixedLeftCellGroups() {\n      return this.table.querySelectorAll('.' + this.addPrefix('cell-group-fixed-left'));\n    }\n  }, {\n    key: 'getFixedRightCellGroups',\n    value: function getFixedRightCellGroups() {\n      return this.table.querySelectorAll('.' + this.addPrefix('cell-group-fixed-right'));\n    }\n    /**\n     * 获取表头高度\n     */\n\n  }, {\n    key: 'getTableHeaderHeight',\n    value: function getTableHeaderHeight() {\n      var _props = this.props,\n          headerHeight = _props.headerHeight,\n          showHeader = _props.showHeader;\n      return showHeader ? headerHeight : 0;\n    }\n    /**\n     * 获取 Table 需要渲染的高度\n     */\n\n  }, {\n    key: 'getTableHeight',\n    value: function getTableHeight() {\n      var contentHeight = this.state.contentHeight;\n      var _props2 = this.props,\n          minHeight = _props2.minHeight,\n          height = _props2.height,\n          autoHeight = _props2.autoHeight,\n          data = _props2.data;\n      var headerHeight = this.getTableHeaderHeight();\n\n      if (data.length === 0 && autoHeight) {\n        return height;\n      }\n\n      return autoHeight ? Math.max(headerHeight + contentHeight, minHeight) : height;\n    }\n  }, {\n    key: 'getCells',\n    value: function getCells() {\n      var _this2 = this;\n\n      if (this._cacheCells) {\n        return this._cacheCells;\n      }\n\n      var left = 0; // Cell left margin\n\n      var headerCells = []; // Table header cell\n\n      var bodyCells = []; // Table body cell\n\n      var children = this.props.children;\n\n      if (!children) {\n        this._cacheCells = {\n          headerCells: headerCells,\n          bodyCells: bodyCells,\n          allColumnsWidth: left\n        };\n        return this._cacheCells;\n      }\n\n      var columns = children;\n\n      if ((0, _isArray3.default)(children)) {\n        columns = children.filter(function (col) {\n          return col;\n        });\n      }\n\n      var tableWidth = this.state.width;\n      var _props3 = this.props,\n          sortColumn = _props3.sortColumn,\n          rowHeight = _props3.rowHeight,\n          showHeader = _props3.showHeader;\n      var headerHeight = this.getTableHeaderHeight();\n\n      var _getTotalByColumns = (0, _utils.getTotalByColumns)(columns),\n          totalFlexGrow = _getTotalByColumns.totalFlexGrow,\n          totalWidth = _getTotalByColumns.totalWidth;\n\n      React.Children.forEach(columns, function (column, index) {\n        if (React.isValidElement(column)) {\n          var columnChildren = column.props.children;\n          var _column$props = column.props,\n              _width = _column$props.width,\n              resizable = _column$props.resizable,\n              flexGrow = _column$props.flexGrow,\n              minWidth = _column$props.minWidth,\n              onResize = _column$props.onResize;\n\n          if (resizable && flexGrow) {\n            console.warn('Cannot set \\'resizable\\' and \\'flexGrow\\' together in <Column>, column index: ' + index);\n          }\n\n          if (columnChildren.length !== 2) {\n            throw new Error('Component <HeaderCell> and <Cell> is required, column index: ' + index + ' ');\n          }\n\n          var nextWidth = _this2.state[columnChildren[1].props.dataKey + '_' + index + '_width'] || _width || 0;\n\n          if (tableWidth && flexGrow && totalFlexGrow) {\n            nextWidth = Math.max((tableWidth - totalWidth) / totalFlexGrow * flexGrow, minWidth || 60);\n          }\n\n          var cellProps = _extends({}, (0, _pick3.default)(column.props, columnHandledProps), {\n            left: left,\n            index: index,\n            headerHeight: headerHeight,\n            key: index,\n            width: nextWidth,\n            height: rowHeight,\n            firstColumn: index === 0,\n            lastColumn: index === columns.length - 1\n          });\n\n          if (showHeader && headerHeight) {\n            var headerCellProps = {\n              dataKey: columnChildren[1].props.dataKey,\n              isHeaderCell: true,\n              sortable: column.props.sortable,\n              onSortColumn: _this2.handleSortColumn,\n              sortType: _this2.getSortType(),\n              sortColumn: sortColumn,\n              flexGrow: flexGrow\n            };\n\n            if (resizable) {\n              (0, _merge3.default)(headerCellProps, {\n                onResize: onResize,\n                onColumnResizeEnd: _this2.handleColumnResizeEnd,\n                onColumnResizeStart: _this2.handleColumnResizeStart,\n                onColumnResizeMove: _this2.handleColumnResizeMove\n              });\n            }\n\n            headerCells.push(React.cloneElement(columnChildren[0], _extends({}, cellProps, headerCellProps)));\n          }\n\n          bodyCells.push(React.cloneElement(columnChildren[1], cellProps));\n          left += nextWidth;\n        }\n      });\n      this._cacheCells = {\n        headerCells: headerCells,\n        bodyCells: bodyCells,\n        allColumnsWidth: left\n      };\n      return this._cacheCells;\n    } // 处理移动端 Touch 事件,  Start 的时候初始化 x,y\n    // 处理移动端 Touch 事件, Move 的时候初始化，更新 scroll\n\n    /**\n     * 当用户在 Table 内使用 tab 键，触发了 onScroll 事件，这个时候应该更新滚动条位置\n     * https://github.com/rsuite/rsuite/issues/234\n     */\n\n  }, {\n    key: 'initPosition',\n    value: function initPosition() {\n      var _this3 = this;\n\n      if ((0, _utils.isRTL)()) {\n        setTimeout(function () {\n          var _state = _this3.state,\n              contentWidth = _state.contentWidth,\n              width = _state.width;\n          _this3.scrollX = width - contentWidth - _constants.SCROLLBAR_WIDTH;\n\n          _this3.updatePosition();\n\n          _this3.scrollbarX && _this3.scrollbarX.resetScrollBarPosition(-_this3.scrollX);\n        }, 0);\n      }\n    }\n  }, {\n    key: 'updatePosition',\n    value: function updatePosition() {\n      /**\n       * 当存在锁定列情况处理\n       */\n      if (this.state.shouldFixedColumn) {\n        this.updatePositionByFixedCell();\n      } else {\n        var wheelStyle = {};\n        var headerStyle = {};\n        this.translateDOMPositionXY(wheelStyle, this.scrollX, this.scrollY);\n        this.translateDOMPositionXY(headerStyle, this.scrollX, 0);\n        this.wheelWrapper && (0, _domLib.addStyle)(this.wheelWrapper, wheelStyle);\n        this.headerWrapper && (0, _domLib.addStyle)(this.headerWrapper, headerStyle);\n      }\n\n      if (this.tableHeader) {\n        (0, _utils.toggleClass)(this.tableHeader, this.addPrefix('cell-group-shadow'), this.scrollY < 0);\n      }\n    }\n  }, {\n    key: 'updatePositionByFixedCell',\n    value: function updatePositionByFixedCell() {\n      var wheelGroupStyle = {};\n      var wheelStyle = {};\n      var scrollGroups = this.getScrollCellGroups();\n      var fixedLeftGroups = this.getFixedLeftCellGroups();\n      var fixedRightGroups = this.getFixedRightCellGroups();\n      var _state2 = this.state,\n          contentWidth = _state2.contentWidth,\n          width = _state2.width;\n      this.translateDOMPositionXY(wheelGroupStyle, this.scrollX, 0);\n      this.translateDOMPositionXY(wheelStyle, 0, this.scrollY);\n      var scrollArrayGroups = Array.from(scrollGroups);\n\n      for (var i = 0; i < scrollArrayGroups.length; i++) {\n        var group = scrollArrayGroups[i];\n        (0, _domLib.addStyle)(group, wheelGroupStyle);\n      }\n\n      if (this.wheelWrapper) {\n        (0, _domLib.addStyle)(this.wheelWrapper, wheelStyle);\n      }\n\n      var leftShadowClassName = this.addPrefix('cell-group-left-shadow');\n      var rightShadowClassName = this.addPrefix('cell-group-right-shadow');\n      var showLeftShadow = this.scrollX < 0;\n      var showRightShadow = width - contentWidth - _constants.SCROLLBAR_WIDTH !== this.scrollX;\n      (0, _utils.toggleClass)(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n      (0, _utils.toggleClass)(fixedRightGroups, rightShadowClassName, showRightShadow);\n    }\n  }, {\n    key: 'shouldRenderExpandedRow',\n    value: function shouldRenderExpandedRow(rowData) {\n      var _props4 = this.props,\n          rowKey = _props4.rowKey,\n          renderRowExpanded = _props4.renderRowExpanded,\n          isTree = _props4.isTree;\n      var expandedRowKeys = this.getExpandedRowKeys() || [];\n      return (0, _isFunction3.default)(renderRowExpanded) && !isTree && expandedRowKeys.some(function (key) {\n        return key === rowData[rowKey];\n      });\n    }\n  }, {\n    key: 'calculateRowMaxHeight',\n    value: function calculateRowMaxHeight() {\n      var wordWrap = this.props.wordWrap;\n\n      if (wordWrap) {\n        var _tableRowsMaxHeight = [];\n        var tableRows = Object.entries(this.tableRows);\n\n        for (var i = 0; i < tableRows.length; i++) {\n          var _tableRows$i = _slicedToArray(tableRows[i], 2),\n              row = _tableRows$i[1];\n\n          if (row) {\n            var cells = row.querySelectorAll('.' + this.addPrefix('cell-wrap')) || [];\n            var maxHeight = 0;\n            var cellArray = Array.from(cells);\n\n            for (var j = 0; j < cellArray.length; j++) {\n              var cell = cellArray[j];\n              var h = (0, _domLib.getHeight)(cell);\n              maxHeight = Math.max(maxHeight, h);\n            }\n\n            _tableRowsMaxHeight.push(maxHeight);\n          }\n        }\n\n        this.setState({\n          tableRowsMaxHeight: _tableRowsMaxHeight\n        });\n      }\n    }\n  }, {\n    key: 'calculateTableContentWidth',\n    value: function calculateTableContentWidth(prevProps) {\n      var table = this.table;\n      var row = table.querySelector('.' + this.addPrefix('row') + ':not(.virtualized)');\n      var contentWidth = row ? (0, _domLib.getWidth)(row) : 0;\n      this.setState({\n        contentWidth: contentWidth\n      }); // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n\n      this.minScrollX = -(contentWidth - this.state.width) - _constants.SCROLLBAR_WIDTH;\n      /**\n       * 1.判断 Table 列数是否发生变化\n       * 2.判断 Table 内容区域是否宽度有变化\n       *\n       *\n       * 满足 1 和 2 则更新横向滚动条位置\n       */\n\n      if ((0, _flatten3.default)(this.props.children).length !== (0, _flatten3.default)(prevProps.children).length && this.state.contentWidth !== contentWidth) {\n        this.scrollLeft(0);\n      }\n    }\n  }, {\n    key: 'calculateTableContextHeight',\n    value: function calculateTableContextHeight(prevProps) {\n      var table = this.table;\n      var rows = table.querySelectorAll('.' + this.addPrefix('row')) || [];\n      var _props5 = this.props,\n          height = _props5.height,\n          autoHeight = _props5.autoHeight,\n          rowHeight = _props5.rowHeight;\n      var headerHeight = this.getTableHeaderHeight();\n      var contentHeight = rows.length ? Array.from(rows).map(function (row) {\n        return (0, _domLib.getHeight)(row) || rowHeight;\n      }).reduce(function (x, y) {\n        return x + y;\n      }) : 0;\n      var nextContentHeight = contentHeight - headerHeight;\n      this.setState({\n        contentHeight: nextContentHeight\n      });\n\n      if (prevProps && ( // 当 data 更新，或者表格高度更新，则更新滚动条\n      prevProps.height !== height || prevProps.data !== this.props.data) && this.scrollY !== 0) {\n        this.scrollTop(Math.abs(this.scrollY));\n        this.updatePosition();\n      }\n\n      if (!autoHeight) {\n        // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n        this.minScrollY = -(contentHeight - height) - _constants.SCROLLBAR_WIDTH;\n      } // 如果内容区域的高度小于表格的高度，则重置 Y 坐标滚动条\n\n\n      if (contentHeight < height) {\n        this.scrollTop(0);\n      } // 如果 scrollTop 的值大于可以滚动的范围 ，则重置 Y 坐标滚动条\n      // 当 Table 为 virtualized 时， wheel 事件触发每次都会进入该逻辑， 避免在滚动到底部后滚动条重置, +SCROLLBAR_WIDTH\n\n\n      if (Math.abs(this.scrollY) + height - headerHeight > nextContentHeight + _constants.SCROLLBAR_WIDTH) {\n        this.scrollTop(this.scrollY);\n      }\n    }\n    /**\n     * public method\n     * top 值是表格理论滚动位置的一个值，通过 top 计算出 scrollY 坐标值与滚动条位置的值\n     */\n    // public method\n\n  }, {\n    key: 'renderRowData',\n    value: function renderRowData(bodyCells, rowData, props, shouldRenderExpandedRow) {\n      var _props6 = this.props,\n          renderTreeToggle = _props6.renderTreeToggle,\n          rowKey = _props6.rowKey,\n          wordWrap = _props6.wordWrap,\n          isTree = _props6.isTree;\n      var hasChildren = isTree && rowData.children && Array.isArray(rowData.children);\n      var nextRowKey = typeof rowData[rowKey] !== 'undefined' ? rowData[rowKey] : props.index;\n      var rowProps = {\n        rowRef: this.bindTableRowsRef(props.index),\n        onClick: this.bindRowClick(rowData),\n        key: props.index,\n        width: props.rowWidth,\n        height: props.rowHeight,\n        top: props.top\n      };\n      var expandedRowKeys = this.getExpandedRowKeys() || [];\n      var expanded = expandedRowKeys.some(function (key) {\n        return key === rowData[rowKey];\n      });\n      var cells = [];\n\n      for (var i = 0; i < bodyCells.length; i++) {\n        var cell = bodyCells[i];\n        cells.push(React.cloneElement(cell, {\n          hasChildren: hasChildren,\n          rowData: rowData,\n          wordWrap: wordWrap,\n          renderTreeToggle: renderTreeToggle,\n          height: props.rowHeight,\n          rowIndex: props.index,\n          depth: props.depth,\n          onTreeToggle: this.handleTreeToggle,\n          rowKey: nextRowKey,\n          className: (0, _classnames2.default)(_defineProperty({}, this.addPrefix('cell-expanded'), expanded))\n        }));\n      }\n\n      return this.renderRow(rowProps, cells, shouldRenderExpandedRow, rowData);\n    }\n  }, {\n    key: 'renderRow',\n    value: function renderRow(props, cells, shouldRenderExpandedRow, rowData) {\n      var rowClassName = this.props.rowClassName;\n      var _state3 = this.state,\n          shouldFixedColumn = _state3.shouldFixedColumn,\n          width = _state3.width,\n          contentWidth = _state3.contentWidth;\n      props.updatePosition = this.translateDOMPositionXY;\n\n      if (typeof rowClassName === 'function') {\n        props.className = rowClassName(rowData);\n      } else {\n        props.className = rowClassName;\n      }\n\n      var rowStyles = {};\n      var rowRight = 0;\n\n      if ((0, _utils.isRTL)() && contentWidth > width) {\n        rowRight = width - contentWidth;\n        rowStyles.right = rowRight;\n      } // IF there are fixed columns, add a fixed group\n\n\n      if (shouldFixedColumn && contentWidth > width) {\n        var fixedLeftCells = [];\n        var fixedRightCells = [];\n        var scrollCells = [];\n        var fixedLeftCellGroupWidth = 0;\n        var fixedRightCellGroupWidth = 0;\n\n        for (var i = 0; i < cells.length; i++) {\n          var cell = cells[i];\n          var _cell$props = cell.props,\n              fixed = _cell$props.fixed,\n              _width2 = _cell$props.width;\n          var isFixedStart = fixed === 'left' || fixed === true;\n          var isFixedEnd = fixed === 'right';\n\n          if ((0, _utils.isRTL)()) {\n            isFixedStart = fixed === 'right';\n            isFixedEnd = fixed === 'left' || fixed === true;\n          }\n\n          if (isFixedStart) {\n            fixedLeftCells.push(cell);\n            fixedLeftCellGroupWidth += _width2;\n          } else if (isFixedEnd) {\n            fixedRightCells.push(cell);\n            fixedRightCellGroupWidth += _width2;\n          } else {\n            scrollCells.push(cell);\n          }\n        }\n\n        return React.createElement(_Row2.default, _extends({}, props, {\n          style: rowStyles\n        }), fixedLeftCellGroupWidth ? React.createElement(_CellGroup2.default, {\n          fixed: 'left',\n          height: props.isHeaderRow ? props.headerHeight : props.height,\n          width: fixedLeftCellGroupWidth,\n          updatePosition: this.translateDOMPositionXY,\n          style: (0, _utils.isRTL)() ? {\n            right: width - fixedLeftCellGroupWidth - rowRight\n          } : null\n        }, (0, _utils.colSpanCells)((0, _utils.resetLeftForCells)(fixedLeftCells))) : null, React.createElement(_CellGroup2.default, {\n          updatePosition: this.translateDOMPositionXY\n        }, (0, _utils.colSpanCells)(scrollCells)), fixedRightCellGroupWidth ? React.createElement(_CellGroup2.default, {\n          fixed: 'right',\n          style: (0, _utils.isRTL)() ? {\n            right: 0 - rowRight - _constants.SCROLLBAR_WIDTH\n          } : {\n            left: width - fixedRightCellGroupWidth - _constants.SCROLLBAR_WIDTH\n          },\n          height: props.isHeaderRow ? props.headerHeight : props.height,\n          width: fixedRightCellGroupWidth,\n          updatePosition: this.translateDOMPositionXY\n        }, (0, _utils.colSpanCells)((0, _utils.resetLeftForCells)(fixedRightCells))) : null, shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n      }\n\n      return React.createElement(_Row2.default, _extends({}, props, {\n        style: rowStyles\n      }), React.createElement(_CellGroup2.default, {\n        updatePosition: this.translateDOMPositionXY\n      }, (0, _utils.colSpanCells)(cells)), shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n    }\n  }, {\n    key: 'renderRowExpanded',\n    value: function renderRowExpanded(rowData) {\n      var _props7 = this.props,\n          renderRowExpanded = _props7.renderRowExpanded,\n          rowExpandedHeight = _props7.rowExpandedHeight;\n      var styles = {\n        height: rowExpandedHeight\n      };\n\n      if (typeof renderRowExpanded === 'function') {\n        return React.createElement('div', {\n          className: this.addPrefix('row-expanded'),\n          style: styles\n        }, renderRowExpanded(rowData));\n      }\n\n      return null;\n    }\n  }, {\n    key: 'renderMouseArea',\n    value: function renderMouseArea() {\n      var headerHeight = this.getTableHeaderHeight();\n      var styles = {\n        height: this.getTableHeight()\n      };\n      var spanStyles = {\n        height: headerHeight - 1\n      };\n      return React.createElement('div', {\n        ref: this.bindMouseAreaRef,\n        className: this.addPrefix('mouse-area'),\n        style: styles\n      }, React.createElement('span', {\n        style: spanStyles\n      }));\n    }\n  }, {\n    key: 'renderTableHeader',\n    value: function renderTableHeader(headerCells, rowWidth) {\n      var _props8 = this.props,\n          rowHeight = _props8.rowHeight,\n          affixHeader = _props8.affixHeader;\n      var tableWidth = this.state.width;\n      var top = typeof affixHeader === 'number' ? affixHeader : 0;\n      var headerHeight = this.getTableHeaderHeight();\n      var rowProps = {\n        rowRef: this.bindTableHeaderRef,\n        width: rowWidth,\n        height: rowHeight,\n        headerHeight: headerHeight,\n        isHeaderRow: true,\n        top: 0\n      };\n      var fixedStyle = {\n        position: 'fixed',\n        overflow: 'hidden',\n        height: this.getTableHeaderHeight(),\n        width: tableWidth,\n        top: top\n      }; // Affix header\n\n      var header = React.createElement('div', {\n        className: (0, _classnames2.default)(this.addPrefix('affix-header')),\n        style: fixedStyle,\n        ref: this.bindAffixHeaderRef\n      }, this.renderRow(rowProps, headerCells));\n      return React.createElement(React.Fragment, null, (affixHeader === 0 || affixHeader) && header, React.createElement('div', {\n        className: this.addPrefix('header-row-wrapper'),\n        ref: this.bindHeaderWrapperRef\n      }, this.renderRow(rowProps, headerCells)));\n    }\n  }, {\n    key: 'renderTableBody',\n    value: function renderTableBody(bodyCells, rowWidth) {\n      var _props9 = this.props,\n          rowHeight = _props9.rowHeight,\n          rowExpandedHeight = _props9.rowExpandedHeight,\n          renderRowExpanded = _props9.renderRowExpanded,\n          isTree = _props9.isTree,\n          setRowHeight = _props9.setRowHeight,\n          rowKey = _props9.rowKey,\n          wordWrap = _props9.wordWrap,\n          virtualized = _props9.virtualized;\n      var headerHeight = this.getTableHeaderHeight();\n      var _state4 = this.state,\n          tableRowsMaxHeight = _state4.tableRowsMaxHeight,\n          isScrolling = _state4.isScrolling,\n          data = _state4.data;\n      var height = this.getTableHeight();\n      var bodyHeight = height - headerHeight;\n      var bodyStyles = {\n        top: headerHeight,\n        height: bodyHeight\n      };\n      var contentHeight = 0;\n      var topHideHeight = 0;\n      var bottomHideHeight = 0;\n      this._visibleRows = [];\n\n      if (data) {\n        var _top = 0; // Row position\n\n        var minTop = Math.abs(this.scrollY);\n        var maxTop = minTop + height + rowExpandedHeight;\n        var isUncertainHeight = !!(renderRowExpanded || setRowHeight || isTree);\n        /**\n        如果开启了 virtualized  同时 Table 中的的行高是可变的，\n        则需要循环遍历 data, 获取每一行的高度。\n        */\n\n        if (isUncertainHeight && virtualized || !virtualized) {\n          for (var index = 0; index < data.length; index++) {\n            var _rowData = data[index];\n            var maxHeight = tableRowsMaxHeight[index];\n            var nextRowHeight = maxHeight ? maxHeight + _constants.CELL_PADDING_HEIGHT : rowHeight;\n            var shouldRenderExpandedRow = this.shouldRenderExpandedRow(_rowData);\n            var depth = 0;\n\n            if (shouldRenderExpandedRow) {\n              nextRowHeight += rowExpandedHeight;\n            }\n\n            if (isTree) {\n              var parents = (0, _utils.findAllParents)(_rowData, rowKey);\n\n              var _expandedRowKeys = this.getExpandedRowKeys();\n\n              depth = parents.length; // 树节点如果被关闭，则不渲染\n\n              if (!(0, _utils.shouldShowRowByExpanded)(_expandedRowKeys, parents)) {\n                continue;\n              }\n            }\n            /**\n             * 自定义行高\n             */\n\n\n            if (setRowHeight) {\n              nextRowHeight = setRowHeight(_rowData) || rowHeight;\n            }\n\n            contentHeight += nextRowHeight;\n            var rowProps = {\n              index: index,\n              top: _top,\n              rowWidth: rowWidth,\n              depth: depth,\n              rowHeight: nextRowHeight\n            };\n            _top += nextRowHeight;\n\n            if (virtualized && !wordWrap) {\n              if (_top + nextRowHeight < minTop) {\n                topHideHeight += nextRowHeight;\n                continue;\n              } else if (_top > maxTop) {\n                bottomHideHeight += nextRowHeight;\n                continue;\n              }\n            }\n\n            this._visibleRows.push(this.renderRowData(bodyCells, _rowData, rowProps, shouldRenderExpandedRow));\n          }\n        } else {\n          /**\n          如果 Table 的行高是固定的，则直接通过行高与行数进行计算，\n          减少遍历所有 data 带来的性能消耗\n          */\n          var startIndex = Math.max(Math.floor(minTop / rowHeight), 0);\n          var endIndex = Math.min(startIndex + Math.ceil(bodyHeight / rowHeight), data.length);\n          contentHeight = data.length * rowHeight;\n          topHideHeight = startIndex * rowHeight;\n          bottomHideHeight = (data.length - endIndex) * rowHeight;\n\n          for (var _index = startIndex; _index < endIndex; _index++) {\n            var _rowData2 = data[_index];\n            var _rowProps = {\n              index: _index,\n              top: _index * rowHeight,\n              rowWidth: rowWidth,\n              rowHeight: rowHeight\n            };\n\n            this._visibleRows.push(this.renderRowData(bodyCells, _rowData2, _rowProps, false));\n          }\n        }\n      }\n\n      var wheelStyles = {\n        position: 'absolute',\n        height: contentHeight,\n        minHeight: height,\n        pointerEvents: isScrolling ? 'none' : ''\n      };\n      var topRowStyles = {\n        height: topHideHeight\n      };\n      var bottomRowStyles = {\n        height: bottomHideHeight\n      };\n      return React.createElement('div', {\n        ref: this.bindBodyRef,\n        className: this.addPrefix('body-row-wrapper'),\n        style: bodyStyles,\n        onScroll: this.handleBodyScroll\n      }, React.createElement('div', {\n        style: wheelStyles,\n        className: this.addPrefix('body-wheel-area'),\n        ref: this.bindWheelWrapperRef\n      }, topHideHeight ? React.createElement(_Row2.default, {\n        style: topRowStyles,\n        className: 'virtualized',\n        updatePosition: this.translateDOMPositionXY\n      }) : null, this._visibleRows, bottomHideHeight ? React.createElement(_Row2.default, {\n        style: bottomRowStyles,\n        className: 'virtualized',\n        updatePosition: this.translateDOMPositionXY\n      }) : null), this.renderInfo(), this.renderScrollbar(), this.renderLoading());\n    }\n  }, {\n    key: 'renderInfo',\n    value: function renderInfo() {\n      var _props10 = this.props,\n          locale = _props10.locale,\n          renderEmpty = _props10.renderEmpty,\n          loading = _props10.loading;\n\n      if (this._visibleRows.length || loading) {\n        return null;\n      }\n\n      var emptyMessage = React.createElement('div', {\n        className: this.addPrefix('body-info')\n      }, locale.emptyMessage);\n      return renderEmpty ? renderEmpty(emptyMessage) : emptyMessage;\n    }\n  }, {\n    key: 'renderScrollbar',\n    value: function renderScrollbar() {\n      var disabledScroll = this.props.disabledScroll;\n      var _state5 = this.state,\n          contentWidth = _state5.contentWidth,\n          contentHeight = _state5.contentHeight;\n      var headerHeight = this.getTableHeaderHeight();\n      var height = this.getTableHeight();\n\n      if (disabledScroll) {\n        return null;\n      }\n\n      return React.createElement('div', null, React.createElement(_Scrollbar2.default, {\n        length: this.state.width,\n        onScroll: this.handleScrollX,\n        scrollLength: contentWidth,\n        ref: this.bindScrollbarXRef\n      }), React.createElement(_Scrollbar2.default, {\n        vertical: true,\n        length: height - headerHeight,\n        scrollLength: contentHeight,\n        onScroll: this.handleScrollY,\n        ref: this.bindScrollbarYRef\n      }));\n    }\n    /**\n     *  show loading\n     */\n\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading() {\n      var _props11 = this.props,\n          locale = _props11.locale,\n          loading = _props11.loading,\n          loadAnimation = _props11.loadAnimation,\n          renderLoading = _props11.renderLoading;\n\n      if (!loadAnimation && !loading) {\n        return null;\n      }\n\n      var loadingElement = React.createElement('div', {\n        className: this.addPrefix('loader-wrapper')\n      }, React.createElement('div', {\n        className: this.addPrefix('loader')\n      }, React.createElement('i', {\n        className: this.addPrefix('loader-icon')\n      }), React.createElement('span', {\n        className: this.addPrefix('loader-text')\n      }, locale.loading)));\n      return renderLoading ? renderLoading(loadingElement) : loadingElement;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames2;\n\n      var _props12 = this.props,\n          children = _props12.children,\n          className = _props12.className,\n          _props12$width = _props12.width,\n          width = _props12$width === undefined ? 0 : _props12$width,\n          style = _props12.style,\n          isTree = _props12.isTree,\n          hover = _props12.hover,\n          bordered = _props12.bordered,\n          cellBordered = _props12.cellBordered,\n          wordWrap = _props12.wordWrap,\n          classPrefix = _props12.classPrefix,\n          loading = _props12.loading,\n          showHeader = _props12.showHeader,\n          rest = _objectWithoutProperties(_props12, ['children', 'className', 'width', 'style', 'isTree', 'hover', 'bordered', 'cellBordered', 'wordWrap', 'classPrefix', 'loading', 'showHeader']);\n\n      var isColumnResizing = this.state.isColumnResizing;\n\n      var _getCells = this.getCells(),\n          headerCells = _getCells.headerCells,\n          bodyCells = _getCells.bodyCells,\n          allColumnsWidth = _getCells.allColumnsWidth;\n\n      var rowWidth = allColumnsWidth > width ? allColumnsWidth : width;\n      var clesses = (0, _classnames2.default)(classPrefix, className, (_classNames2 = {}, _defineProperty(_classNames2, this.addPrefix('word-wrap'), wordWrap), _defineProperty(_classNames2, this.addPrefix('treetable'), isTree), _defineProperty(_classNames2, this.addPrefix('bordered'), bordered), _defineProperty(_classNames2, this.addPrefix('cell-bordered'), cellBordered), _defineProperty(_classNames2, this.addPrefix('column-resizing'), isColumnResizing), _defineProperty(_classNames2, this.addPrefix('hover'), hover), _defineProperty(_classNames2, this.addPrefix('loading'), loading), _classNames2));\n\n      var styles = _extends({\n        width: width || 'auto',\n        height: this.getTableHeight()\n      }, style);\n\n      var unhandled = (0, _utils.getUnhandledProps)(Table, rest);\n      return React.createElement('div', _extends({}, unhandled, {\n        className: clesses,\n        style: styles,\n        ref: this.bindTableRef\n      }), showHeader && this.renderTableHeader(headerCells, rowWidth), children && this.renderTableBody(bodyCells, rowWidth), showHeader && this.renderMouseArea());\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nTable.defaultProps = {\n  classPrefix: (0, _utils.defaultClassPrefix)('table'),\n  data: [],\n  defaultSortType: SORT_TYPE.DESC,\n  height: 200,\n  rowHeight: 46,\n  headerHeight: 40,\n  minHeight: 0,\n  rowExpandedHeight: 100,\n  hover: true,\n  showHeader: true,\n  virtualized: false,\n  rowKey: 'key',\n  translate3d: true,\n  locale: {\n    emptyMessage: 'No data found',\n    loading: 'Loading...'\n  }\n};\nTable.handledProps = ['affixHeader', 'autoHeight', 'bodyRef', 'bordered', 'cellBordered', 'children', 'className', 'classPrefix', 'data', 'defaultExpandAllRows', 'defaultExpandedRowKeys', 'defaultSortType', 'disabledScroll', 'expandedRowKeys', 'headerHeight', 'height', 'hover', 'isTree', 'loadAnimation', 'loading', 'locale', 'minHeight', 'onExpandChange', 'onRowClick', 'onScroll', 'onSortColumn', 'onTouchMove', 'onTouchStart', 'renderEmpty', 'renderLoading', 'renderRowExpanded', 'renderTreeToggle', 'rowClassName', 'rowExpandedHeight', 'rowHeight', 'rowKey', 'setRowHeight', 'showHeader', 'sortColumn', 'sortType', 'style', 'translate3d', 'virtualized', 'width', 'wordWrap'];\nTable.propTypes = {\n  width: _propTypes2.default.number,\n  data: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n  height: _propTypes2.default.number.isRequired,\n  autoHeight: _propTypes2.default.bool,\n  minHeight: _propTypes2.default.number.isRequired,\n  rowHeight: _propTypes2.default.number.isRequired,\n  headerHeight: _propTypes2.default.number.isRequired,\n  setRowHeight: _propTypes2.default.func,\n  rowKey: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]).isRequired,\n  isTree: _propTypes2.default.bool,\n  defaultExpandAllRows: _propTypes2.default.bool,\n  defaultExpandedRowKeys: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])),\n  expandedRowKeys: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])),\n  renderTreeToggle: _propTypes2.default.func,\n  renderRowExpanded: _propTypes2.default.func,\n  rowExpandedHeight: _propTypes2.default.number,\n  locale: _propTypes2.default.object.isRequired,\n  style: _propTypes2.default.object,\n  sortColumn: _propTypes2.default.string,\n  sortType: _propTypes2.default.oneOf(['desc', 'asc']),\n  defaultSortType: _propTypes2.default.oneOf(['desc', 'asc']),\n  disabledScroll: _propTypes2.default.bool,\n  hover: _propTypes2.default.bool.isRequired,\n  loading: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  classPrefix: _propTypes2.default.string,\n  children: function children() {\n    return (typeof (React.ChildrenArray == null ? {} : React.ChildrenArray) === 'function' ? _propTypes2.default.instanceOf(React.ChildrenArray == null ? {} : React.ChildrenArray).isRequired : _propTypes2.default.any.isRequired).apply(this, arguments);\n  },\n  bordered: _propTypes2.default.bool,\n  cellBordered: _propTypes2.default.bool,\n  wordWrap: _propTypes2.default.bool,\n  onRowClick: _propTypes2.default.func,\n  onScroll: _propTypes2.default.func,\n  onSortColumn: _propTypes2.default.func,\n  onExpandChange: _propTypes2.default.func,\n  onTouchStart: _propTypes2.default.func,\n  // for tests\n  onTouchMove: _propTypes2.default.func,\n  // for tests\n  bodyRef: function bodyRef() {\n    return (typeof (React.ElementRef == null ? {} : React.ElementRef) === 'function' ? _propTypes2.default.instanceOf(React.ElementRef == null ? {} : React.ElementRef) : _propTypes2.default.any).apply(this, arguments);\n  },\n  loadAnimation: _propTypes2.default.bool,\n  showHeader: _propTypes2.default.bool,\n  rowClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  virtualized: _propTypes2.default.bool,\n  renderEmpty: _propTypes2.default.func,\n  renderLoading: _propTypes2.default.func,\n  translate3d: _propTypes2.default.bool,\n  affixHeader: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number])\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this._listenWheel = function (deltaX, deltaY) {\n    _this4.handleWheel(deltaX, deltaY);\n\n    if (_this4.scrollbarX) {\n      _this4.scrollbarX.onWheelScroll(deltaX);\n    }\n\n    if (_this4.scrollbarY) {\n      _this4.scrollbarY.onWheelScroll(deltaY);\n    }\n  };\n\n  this.setAffixHeaderOffset = function () {\n    var affixHeader = _this4.props.affixHeader;\n\n    if (affixHeader === 0 || affixHeader) {\n      _this4.setState(function () {\n        return {\n          affixHeaderOffset: (0, _domLib.getOffset)(_this4.headerWrapper)\n        };\n      });\n    }\n  };\n\n  this.updateAffixHeaderStatus = function () {\n    var affixHeader = _this4.props.affixHeader;\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var _state6 = _this4.state,\n        affixHeaderOffset = _state6.affixHeaderOffset,\n        contentHeight = _state6.contentHeight;\n    var scrollY = window.scrollY || window.pageYOffset;\n    var fixedHeader = scrollY - (affixHeaderOffset.top - top) >= 0 && scrollY < affixHeaderOffset.top - top + contentHeight;\n\n    if (_this4.affixHeaderWrapper) {\n      (0, _utils.toggleClass)(_this4.affixHeaderWrapper, 'fixed', fixedHeader);\n    }\n  };\n\n  this.handleSortColumn = function (dataKey) {\n    var _props13 = _this4.props,\n        onSortColumn = _props13.onSortColumn,\n        sortColumn = _props13.sortColumn;\n\n    var sortType = _this4.getSortType();\n\n    if (sortColumn === dataKey) {\n      sortType = sortType === SORT_TYPE.ASC ? SORT_TYPE.DESC : SORT_TYPE.ASC;\n\n      _this4.setState({\n        sortType: sortType\n      });\n    }\n\n    onSortColumn && onSortColumn(dataKey, sortType);\n  };\n\n  this._cacheCells = null;\n  this._cacheChildrenSize = 0;\n\n  this.handleColumnResizeEnd = function (columnWidth, cursorDelta, dataKey, index) {\n    _this4._cacheCells = null;\n\n    _this4.setState(_defineProperty({\n      isColumnResizing: false\n    }, dataKey + '_' + index + '_width', columnWidth));\n\n    (0, _domLib.addStyle)(_this4.mouseArea, {\n      display: 'none'\n    });\n  };\n\n  this.handleColumnResizeStart = function (width, left, fixed) {\n    _this4.setState({\n      isColumnResizing: true\n    });\n\n    _this4.handleColumnResizeMove(width, left, fixed);\n  };\n\n  this.handleColumnResizeMove = function (width, left, fixed) {\n    var mouseAreaLeft = width + left;\n    var x = mouseAreaLeft;\n    var dir = 'left';\n\n    if ((0, _utils.isRTL)()) {\n      mouseAreaLeft += _this4.minScrollX + _constants.SCROLLBAR_WIDTH;\n      dir = 'right';\n    }\n\n    if (!fixed) {\n      x = mouseAreaLeft + ((0, _utils.isRTL)() ? -_this4.scrollX : _this4.scrollX);\n    }\n\n    var styles = _defineProperty({\n      display: 'block'\n    }, dir, x + 'px');\n\n    (0, _domLib.addStyle)(_this4.mouseArea, styles);\n  };\n\n  this.handleTreeToggle = function (rowKey, rowIndex, rowData) {\n    var onExpandChange = _this4.props.onExpandChange;\n\n    var expandedRowKeys = _this4.getExpandedRowKeys();\n\n    var open = false;\n    var nextExpandedRowKeys = [];\n\n    for (var i = 0; i < expandedRowKeys.length; i++) {\n      var key = expandedRowKeys[i];\n\n      if (key === rowKey) {\n        open = true;\n      } else {\n        nextExpandedRowKeys.push(key);\n      }\n    }\n\n    if (!open) {\n      nextExpandedRowKeys.push(rowKey);\n    }\n\n    _this4.setState({\n      expandedRowKeys: nextExpandedRowKeys\n    });\n\n    onExpandChange && onExpandChange(!open, rowData);\n  };\n\n  this.handleScrollX = function (delta) {\n    _this4.handleWheel(delta, 0);\n  };\n\n  this.handleScrollY = function (delta) {\n    _this4.handleWheel(0, delta);\n  };\n\n  this.disableEventsTimeoutId = null;\n\n  this.handleWheel = function (deltaX, deltaY) {\n    var _props14 = _this4.props,\n        onScroll = _props14.onScroll,\n        virtualized = _props14.virtualized;\n    var _state7 = _this4.state,\n        contentWidth = _state7.contentWidth,\n        width = _state7.width;\n\n    if (!_this4.table) {\n      return;\n    }\n\n    var nextScrollX = contentWidth <= width ? 0 : _this4.scrollX - deltaX;\n    var nextScrollY = _this4.scrollY - deltaY;\n    _this4.scrollY = Math.min(0, nextScrollY < _this4.minScrollY ? _this4.minScrollY : nextScrollY);\n    _this4.scrollX = Math.min(0, nextScrollX < _this4.minScrollX ? _this4.minScrollX : nextScrollX);\n\n    _this4.updatePosition();\n\n    onScroll && onScroll(_this4.scrollX, _this4.scrollY);\n\n    if (virtualized) {\n      _this4.setState({\n        isScrolling: true,\n        scrollY: _this4.scrollY\n      });\n\n      if (_this4.disableEventsTimeoutId) {\n        (0, _utils.cancelAnimationTimeout)(_this4.disableEventsTimeoutId);\n      }\n\n      _this4.disableEventsTimeoutId = (0, _utils.requestAnimationTimeout)(_this4.debounceScrollEndedCallback, 150);\n    }\n  };\n\n  this.debounceScrollEndedCallback = function () {\n    _this4.disableEventsTimeoutId = null;\n\n    _this4.setState({\n      isScrolling: false\n    });\n  };\n\n  this.handleTouchStart = function (event) {\n    var onTouchStart = _this4.props.onTouchStart;\n\n    var _ref = event.touches ? event.touches[0] : {},\n        pageX = _ref.pageX,\n        pageY = _ref.pageY;\n\n    _this4.touchX = pageX;\n    _this4.touchY = pageY;\n    onTouchStart && onTouchStart(event);\n  };\n\n  this.handleTouchMove = function (event) {\n    var _props15 = _this4.props,\n        onTouchMove = _props15.onTouchMove,\n        autoHeight = _props15.autoHeight;\n\n    var _ref2 = event.touches ? event.touches[0] : {},\n        nextPageX = _ref2.pageX,\n        nextPageY = _ref2.pageY;\n\n    var deltaX = _this4.touchX - nextPageX;\n    var deltaY = autoHeight ? 0 : _this4.touchY - nextPageY;\n\n    if (!_this4.shouldHandleWheelY(deltaY) && !_this4.shouldHandleWheelX(deltaX)) {\n      return;\n    }\n\n    event.preventDefault();\n\n    _this4.handleWheel(deltaX, deltaY);\n\n    _this4.scrollbarX.onWheelScroll(deltaX);\n\n    _this4.scrollbarY.onWheelScroll(deltaY);\n\n    _this4.touchX = nextPageX;\n    _this4.touchY = nextPageY;\n    onTouchMove && onTouchMove(event);\n  };\n\n  this.handleBodyScroll = function (event) {\n    if (event.target !== _this4.tableBody) {\n      return;\n    }\n\n    var left = (0, _domLib.scrollLeft)(event.target);\n    var top = (0, _domLib.scrollTop)(event.target);\n\n    if (top === 0 && left === 0) {\n      return;\n    }\n\n    _this4._listenWheel(left, top);\n\n    (0, _domLib.scrollLeft)(event.target, 0);\n    (0, _domLib.scrollTop)(event.target, 0);\n  };\n\n  this.shouldHandleWheelX = function (delta) {\n    var _props16 = _this4.props,\n        disabledScroll = _props16.disabledScroll,\n        loading = _props16.loading;\n\n    if (delta === 0 || disabledScroll || loading) {\n      return false;\n    }\n\n    return true;\n  };\n\n  this.shouldHandleWheelY = function (delta) {\n    var _props17 = _this4.props,\n        disabledScroll = _props17.disabledScroll,\n        loading = _props17.loading;\n\n    if (delta === 0 || disabledScroll || loading) {\n      return false;\n    }\n\n    return delta >= 0 && _this4.scrollY > _this4.minScrollY || delta < 0 && _this4.scrollY < 0;\n  };\n\n  this.tableRows = {};\n  this.mounted = false;\n  this.scrollY = 0;\n  this.scrollX = 0;\n\n  this.addPrefix = function (name) {\n    return (0, _utils.prefix)(_this4.props.classPrefix)(name);\n  };\n\n  this.calculateTableWidth = function () {\n    var table = _this4.table;\n    var width = _this4.state.width;\n\n    if (table) {\n      var nextWidth = (0, _domLib.getWidth)(table);\n\n      if (width !== nextWidth) {\n        _this4.scrollX = 0;\n        _this4.scrollbarX && _this4.scrollbarX.resetScrollBarPosition();\n      }\n\n      _this4._cacheCells = null;\n\n      _this4.setState({\n        width: nextWidth\n      });\n    }\n\n    _this4.setAffixHeaderOffset();\n  };\n\n  this.scrollTop = function () {\n    var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    _this4.scrollY = -top;\n    _this4.scrollbarY && _this4.scrollbarY.resetScrollBarPosition(top);\n\n    _this4.updatePosition();\n  };\n\n  this.scrollLeft = function () {\n    var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    _this4.scrollX = -left;\n    _this4.scrollbarX && _this4.scrollbarX.resetScrollBarPosition(left);\n\n    _this4.updatePosition();\n  };\n\n  this.bindTableRowsRef = function (index) {\n    return function (ref) {\n      if (ref) {\n        _this4.tableRows[index] = ref;\n      }\n    };\n  };\n\n  this.bindMouseAreaRef = function (ref) {\n    _this4.mouseArea = ref;\n  };\n\n  this.bindTableHeaderRef = function (ref) {\n    _this4.tableHeader = ref;\n  };\n\n  this.bindHeaderWrapperRef = function (ref) {\n    _this4.headerWrapper = ref;\n  };\n\n  this.bindAffixHeaderRef = function (ref) {\n    _this4.affixHeaderWrapper = ref;\n  };\n\n  this.bindTableRef = function (ref) {\n    _this4.table = ref;\n  };\n\n  this.bindWheelWrapperRef = function (ref) {\n    var bodyRef = _this4.props.bodyRef;\n    _this4.wheelWrapper = ref;\n    bodyRef && bodyRef(ref);\n  };\n\n  this.bindBodyRef = function (ref) {\n    _this4.tableBody = ref;\n  };\n\n  this.bindScrollbarXRef = function (ref) {\n    _this4.scrollbarX = ref;\n  };\n\n  this.bindScrollbarYRef = function (ref) {\n    _this4.scrollbarY = ref;\n  };\n\n  this.bindRowClick = function (rowData) {\n    var onRowClick = _this4.props.onRowClick;\n    return function (event) {\n      onRowClick && onRowClick(rowData, event);\n    };\n  };\n\n  this._visibleRows = [];\n};\n\nexports.default = Table;","map":{"version":3,"sources":["/home/akram/CreamyCreations/node_modules/rsuite-table/lib/Table.js"],"names":["Object","defineProperty","exports","value","_merge2","require","_merge3","_interopRequireDefault","_pick2","_pick3","_isArray2","_isArray3","_isUndefined2","_isUndefined3","_isEqual2","_isEqual3","_eq2","_eq3","_debounce2","_debounce3","_flatten2","_flatten3","_isFunction2","_isFunction3","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","React","_interopRequireWildcard","_classnames","_classnames2","_elementResizeEvent","_elementResizeEvent2","_translateDOMPositionXY","_domLib","_Row","_Row2","_CellGroup","_CellGroup2","_Scrollbar","_Scrollbar2","_constants","_utils","_propTypes","_propTypes2","obj","__esModule","newObj","default","_objectWithoutProperties","keys","indexOf","_defineProperty","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","columnHandledProps","SORT_TYPE","DESC","ASC","Table","_React$Component","getDerivedStateFromProps","state","data","cacheData","isTree","flattenData","_this","getPrototypeOf","_initialiseProps","width","rowKey","defaultExpandAllRows","renderRowExpanded","defaultExpandedRowKeys","_props$children","children","defaultSortType","expandedRowKeys","findRowKeys","shouldFixedColumn","from","some","child","fixed","Error","columnWidth","dataKey","contentHeight","contentWidth","tableRowsMaxHeight","sortType","scrollY","isScrolling","fixedHeader","scrollX","wheelHandler","WheelHandler","_listenWheel","shouldHandleWheelX","shouldHandleWheelY","_cacheChildrenSize","translateDOMPositionXY","getTranslateDOMPositionXY","enable3DTransform","translate3d","componentDidMount","calculateTableWidth","calculateTableContextHeight","calculateRowMaxHeight","setAffixHeaderOffset","initPosition","table","options","passive","wheelListener","on","tableBody","onWheel","touchStartListener","handleTouchStart","touchMoveListener","handleTouchMove","affixHeader","scrollListener","window","updateAffixHeaderStatus","shouldComponentUpdate","nextProps","nextState","_cacheCells","sortColumn","componentDidUpdate","prevProps","calculateTableContentWidth","updatePosition","componentWillUnmount","unbind","off","getExpandedRowKeys","getSortType","getScrollCellGroups","querySelectorAll","addPrefix","getFixedLeftCellGroups","getFixedRightCellGroups","getTableHeaderHeight","_props","headerHeight","showHeader","getTableHeight","_props2","minHeight","height","autoHeight","Math","max","getCells","_this2","left","headerCells","bodyCells","allColumnsWidth","columns","filter","col","tableWidth","_props3","rowHeight","_getTotalByColumns","getTotalByColumns","totalFlexGrow","totalWidth","Children","forEach","column","index","isValidElement","columnChildren","_column$props","_width","resizable","flexGrow","minWidth","onResize","console","warn","nextWidth","cellProps","firstColumn","lastColumn","headerCellProps","isHeaderCell","sortable","onSortColumn","handleSortColumn","onColumnResizeEnd","handleColumnResizeEnd","onColumnResizeStart","handleColumnResizeStart","onColumnResizeMove","handleColumnResizeMove","cloneElement","_this3","isRTL","setTimeout","_state","SCROLLBAR_WIDTH","scrollbarX","resetScrollBarPosition","updatePositionByFixedCell","wheelStyle","headerStyle","wheelWrapper","addStyle","headerWrapper","tableHeader","toggleClass","wheelGroupStyle","scrollGroups","fixedLeftGroups","fixedRightGroups","_state2","scrollArrayGroups","group","leftShadowClassName","rightShadowClassName","showLeftShadow","showRightShadow","shouldRenderExpandedRow","rowData","_props4","wordWrap","_tableRowsMaxHeight","tableRows","entries","_tableRows$i","row","cells","maxHeight","cellArray","j","cell","h","getHeight","setState","querySelector","getWidth","minScrollX","scrollLeft","rows","_props5","map","reduce","x","y","nextContentHeight","scrollTop","abs","minScrollY","renderRowData","_props6","renderTreeToggle","hasChildren","nextRowKey","rowProps","rowRef","bindTableRowsRef","onClick","bindRowClick","rowWidth","top","expanded","rowIndex","depth","onTreeToggle","handleTreeToggle","className","renderRow","rowClassName","_state3","rowStyles","rowRight","right","fixedLeftCells","fixedRightCells","scrollCells","fixedLeftCellGroupWidth","fixedRightCellGroupWidth","_cell$props","_width2","isFixedStart","isFixedEnd","createElement","style","isHeaderRow","colSpanCells","resetLeftForCells","_props7","rowExpandedHeight","styles","renderMouseArea","spanStyles","ref","bindMouseAreaRef","renderTableHeader","_props8","bindTableHeaderRef","fixedStyle","position","overflow","header","bindAffixHeaderRef","Fragment","bindHeaderWrapperRef","renderTableBody","_props9","setRowHeight","virtualized","_state4","bodyHeight","bodyStyles","topHideHeight","bottomHideHeight","_visibleRows","_top","minTop","maxTop","isUncertainHeight","_rowData","nextRowHeight","CELL_PADDING_HEIGHT","parents","findAllParents","_expandedRowKeys","shouldShowRowByExpanded","startIndex","floor","endIndex","min","ceil","_index","_rowData2","_rowProps","wheelStyles","pointerEvents","topRowStyles","bottomRowStyles","bindBodyRef","onScroll","handleBodyScroll","bindWheelWrapperRef","renderInfo","renderScrollbar","renderLoading","_props10","locale","renderEmpty","loading","emptyMessage","disabledScroll","_state5","handleScrollX","scrollLength","bindScrollbarXRef","vertical","handleScrollY","bindScrollbarYRef","_props11","loadAnimation","loadingElement","render","_classNames2","_props12","_props12$width","hover","bordered","cellBordered","classPrefix","rest","isColumnResizing","_getCells","clesses","unhandled","getUnhandledProps","bindTableRef","Component","defaultProps","defaultClassPrefix","handledProps","propTypes","number","arrayOf","object","isRequired","bool","func","oneOfType","string","oneOf","ChildrenArray","instanceOf","any","apply","onRowClick","onExpandChange","onTouchStart","onTouchMove","bodyRef","ElementRef","_this4","deltaX","deltaY","handleWheel","onWheelScroll","scrollbarY","affixHeaderOffset","getOffset","_state6","pageYOffset","affixHeaderWrapper","_props13","cursorDelta","mouseArea","display","mouseAreaLeft","dir","open","nextExpandedRowKeys","delta","disableEventsTimeoutId","_props14","_state7","nextScrollX","nextScrollY","cancelAnimationTimeout","requestAnimationTimeout","debounceScrollEndedCallback","event","_ref","touches","pageX","pageY","touchX","touchY","_props15","_ref2","nextPageX","nextPageY","preventDefault","_props16","_props17","mounted","name","prefix"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _merge2 = require('lodash/merge');\n\nvar _merge3 = _interopRequireDefault(_merge2);\n\nvar _pick2 = require('lodash/pick');\n\nvar _pick3 = _interopRequireDefault(_pick2);\n\nvar _isArray2 = require('lodash/isArray');\n\nvar _isArray3 = _interopRequireDefault(_isArray2);\n\nvar _isUndefined2 = require('lodash/isUndefined');\n\nvar _isUndefined3 = _interopRequireDefault(_isUndefined2);\n\nvar _isEqual2 = require('lodash/isEqual');\n\nvar _isEqual3 = _interopRequireDefault(_isEqual2);\n\nvar _eq2 = require('lodash/eq');\n\nvar _eq3 = _interopRequireDefault(_eq2);\n\nvar _debounce2 = require('lodash/debounce');\n\nvar _debounce3 = _interopRequireDefault(_debounce2);\n\nvar _flatten2 = require('lodash/flatten');\n\nvar _flatten3 = _interopRequireDefault(_flatten2);\n\nvar _isFunction2 = require('lodash/isFunction');\n\nvar _isFunction3 = _interopRequireDefault(_isFunction2);\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _elementResizeEvent = require('element-resize-event');\n\nvar _elementResizeEvent2 = _interopRequireDefault(_elementResizeEvent);\n\nvar _translateDOMPositionXY = require('dom-lib/lib/transition/translateDOMPositionXY');\n\nvar _domLib = require('dom-lib');\n\nvar _Row = require('./Row');\n\nvar _Row2 = _interopRequireDefault(_Row);\n\nvar _CellGroup = require('./CellGroup');\n\nvar _CellGroup2 = _interopRequireDefault(_CellGroup);\n\nvar _Scrollbar = require('./Scrollbar');\n\nvar _Scrollbar2 = _interopRequireDefault(_Scrollbar);\n\nvar _constants = require('./constants');\n\nvar _utils = require('./utils');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar columnHandledProps = ['align', 'verticalAlign', 'width', 'fixed', 'resizable', 'flexGrow', 'minWidth', 'colSpan'];\n\nvar SORT_TYPE = {\n  DESC: 'desc',\n  ASC: 'asc'\n};\n\nvar Table = function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  _createClass(Table, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.data !== state.cacheData) {\n        return {\n          cacheData: props.data,\n          data: props.isTree ? (0, _utils.flattenData)(props.data) : props.data\n        };\n      }\n      return null;\n    }\n  }]);\n\n  function Table(props) {\n    _classCallCheck(this, Table);\n\n    var _this = _possibleConstructorReturn(this, (Table.__proto__ || Object.getPrototypeOf(Table)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var width = props.width,\n        data = props.data,\n        rowKey = props.rowKey,\n        defaultExpandAllRows = props.defaultExpandAllRows,\n        renderRowExpanded = props.renderRowExpanded,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys,\n        _props$children = props.children,\n        children = _props$children === undefined ? [] : _props$children,\n        isTree = props.isTree,\n        defaultSortType = props.defaultSortType;\n\n\n    var expandedRowKeys = defaultExpandAllRows ? (0, _utils.findRowKeys)(data, rowKey, (0, _isFunction3.default)(renderRowExpanded)) : defaultExpandedRowKeys || [];\n\n    var shouldFixedColumn = Array.from(children).some(function (child) {\n      return child && child.props && child.props.fixed;\n    });\n\n    if (isTree && !rowKey) {\n      throw new Error('The `rowKey` is required when set isTree');\n    }\n    _this.state = {\n      expandedRowKeys: expandedRowKeys,\n      shouldFixedColumn: shouldFixedColumn,\n      cacheData: data,\n      data: isTree ? (0, _utils.flattenData)(data) : data,\n      width: width || 0,\n      columnWidth: 0,\n      dataKey: 0,\n      contentHeight: 0,\n      contentWidth: 0,\n      tableRowsMaxHeight: [],\n      sortType: defaultSortType,\n      scrollY: 0,\n      isScrolling: false,\n      fixedHeader: false\n    };\n\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = new _domLib.WheelHandler(_this._listenWheel, _this.shouldHandleWheelX, _this.shouldHandleWheelY, false);\n\n    _this._cacheChildrenSize = (0, _flatten3.default)(children).length;\n\n    _this.translateDOMPositionXY = (0, _translateDOMPositionXY.getTranslateDOMPositionXY)({\n      enable3DTransform: props.translate3d\n    });\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.calculateTableWidth();\n      this.calculateTableContextHeight();\n      this.calculateRowMaxHeight();\n      this.setAffixHeaderOffset();\n      this.initPosition();\n      (0, _elementResizeEvent2.default)(this.table, (0, _debounce3.default)(this.calculateTableWidth, 400));\n\n      var options = { passive: false };\n\n      this.wheelListener = (0, _domLib.on)(this.tableBody, 'wheel', this.wheelHandler.onWheel, options);\n      this.touchStartListener = (0, _domLib.on)(this.tableBody, 'touchstart', this.handleTouchStart, options);\n      this.touchMoveListener = (0, _domLib.on)(this.tableBody, 'touchmove', this.handleTouchMove, options);\n\n      var affixHeader = this.props.affixHeader;\n\n      if (affixHeader === 0 || affixHeader) {\n        this.scrollListener = (0, _domLib.on)(window, 'scroll', this.updateAffixHeaderStatus);\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _cacheChildrenSize = (0, _flatten3.default)(nextProps.children || []).length;\n      if (_cacheChildrenSize !== this._cacheChildrenSize) {\n        this._cacheChildrenSize = _cacheChildrenSize;\n        this._cacheCells = null;\n      }\n\n      if (this.props.children !== nextProps.children || this.props.sortColumn !== nextProps.sortColumn || this.props.sortType !== nextProps.sortType) {\n        this._cacheCells = null;\n      }\n\n      return !(0, _eq3.default)(this.props, nextProps) || !(0, _isEqual3.default)(this.state, nextState);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      this.calculateTableContextHeight(prevProps);\n      this.calculateTableContentWidth(prevProps);\n      this.calculateRowMaxHeight();\n      this.updatePosition();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.wheelHandler = null;\n      if (this.table) {\n        (0, _elementResizeEvent.unbind)(this.table);\n      }\n      if (this.wheelListener) {\n        this.wheelListener.off();\n      }\n\n      if (this.touchStartListener) {\n        this.touchStartListener.off();\n      }\n\n      if (this.touchMoveListener) {\n        this.touchMoveListener.off();\n      }\n\n      if (this.scrollListener) {\n        this.scrollListener.off();\n      }\n    }\n  }, {\n    key: 'getExpandedRowKeys',\n    value: function getExpandedRowKeys() {\n      var expandedRowKeys = this.props.expandedRowKeys;\n\n      return (0, _isUndefined3.default)(expandedRowKeys) ? this.state.expandedRowKeys : expandedRowKeys;\n    }\n  }, {\n    key: 'getSortType',\n    value: function getSortType() {\n      var sortType = this.props.sortType;\n\n      return (0, _isUndefined3.default)(sortType) ? this.state.sortType : sortType;\n    }\n  }, {\n    key: 'getScrollCellGroups',\n    value: function getScrollCellGroups() {\n      return this.table.querySelectorAll('.' + this.addPrefix('cell-group-scroll'));\n    }\n  }, {\n    key: 'getFixedLeftCellGroups',\n    value: function getFixedLeftCellGroups() {\n      return this.table.querySelectorAll('.' + this.addPrefix('cell-group-fixed-left'));\n    }\n  }, {\n    key: 'getFixedRightCellGroups',\n    value: function getFixedRightCellGroups() {\n      return this.table.querySelectorAll('.' + this.addPrefix('cell-group-fixed-right'));\n    }\n\n    /**\n     * 获取表头高度\n     */\n\n  }, {\n    key: 'getTableHeaderHeight',\n    value: function getTableHeaderHeight() {\n      var _props = this.props,\n          headerHeight = _props.headerHeight,\n          showHeader = _props.showHeader;\n\n      return showHeader ? headerHeight : 0;\n    }\n\n    /**\n     * 获取 Table 需要渲染的高度\n     */\n\n  }, {\n    key: 'getTableHeight',\n    value: function getTableHeight() {\n      var contentHeight = this.state.contentHeight;\n      var _props2 = this.props,\n          minHeight = _props2.minHeight,\n          height = _props2.height,\n          autoHeight = _props2.autoHeight,\n          data = _props2.data;\n\n      var headerHeight = this.getTableHeaderHeight();\n\n      if (data.length === 0 && autoHeight) {\n        return height;\n      }\n\n      return autoHeight ? Math.max(headerHeight + contentHeight, minHeight) : height;\n    }\n  }, {\n    key: 'getCells',\n    value: function getCells() {\n      var _this2 = this;\n\n      if (this._cacheCells) {\n        return this._cacheCells;\n      }\n      var left = 0; // Cell left margin\n      var headerCells = []; // Table header cell\n      var bodyCells = []; // Table body cell\n      var children = this.props.children;\n\n      if (!children) {\n        this._cacheCells = {\n          headerCells: headerCells,\n          bodyCells: bodyCells,\n          allColumnsWidth: left\n        };\n        return this._cacheCells;\n      }\n\n      var columns = children;\n\n      if ((0, _isArray3.default)(children)) {\n        columns = children.filter(function (col) {\n          return col;\n        });\n      }\n\n      var tableWidth = this.state.width;\n      var _props3 = this.props,\n          sortColumn = _props3.sortColumn,\n          rowHeight = _props3.rowHeight,\n          showHeader = _props3.showHeader;\n\n      var headerHeight = this.getTableHeaderHeight();\n\n      var _getTotalByColumns = (0, _utils.getTotalByColumns)(columns),\n          totalFlexGrow = _getTotalByColumns.totalFlexGrow,\n          totalWidth = _getTotalByColumns.totalWidth;\n\n      React.Children.forEach(columns, function (column, index) {\n        if (React.isValidElement(column)) {\n          var columnChildren = column.props.children;\n          var _column$props = column.props,\n              _width = _column$props.width,\n              resizable = _column$props.resizable,\n              flexGrow = _column$props.flexGrow,\n              minWidth = _column$props.minWidth,\n              onResize = _column$props.onResize;\n\n\n          if (resizable && flexGrow) {\n            console.warn('Cannot set \\'resizable\\' and \\'flexGrow\\' together in <Column>, column index: ' + index);\n          }\n\n          if (columnChildren.length !== 2) {\n            throw new Error('Component <HeaderCell> and <Cell> is required, column index: ' + index + ' ');\n          }\n\n          var nextWidth = _this2.state[columnChildren[1].props.dataKey + '_' + index + '_width'] || _width || 0;\n\n          if (tableWidth && flexGrow && totalFlexGrow) {\n            nextWidth = Math.max((tableWidth - totalWidth) / totalFlexGrow * flexGrow, minWidth || 60);\n          }\n\n          var cellProps = _extends({}, (0, _pick3.default)(column.props, columnHandledProps), {\n            left: left,\n            index: index,\n            headerHeight: headerHeight,\n            key: index,\n            width: nextWidth,\n            height: rowHeight,\n            firstColumn: index === 0,\n            lastColumn: index === columns.length - 1\n          });\n\n          if (showHeader && headerHeight) {\n            var headerCellProps = {\n              dataKey: columnChildren[1].props.dataKey,\n              isHeaderCell: true,\n              sortable: column.props.sortable,\n              onSortColumn: _this2.handleSortColumn,\n              sortType: _this2.getSortType(),\n              sortColumn: sortColumn,\n              flexGrow: flexGrow\n            };\n\n            if (resizable) {\n              (0, _merge3.default)(headerCellProps, {\n                onResize: onResize,\n                onColumnResizeEnd: _this2.handleColumnResizeEnd,\n                onColumnResizeStart: _this2.handleColumnResizeStart,\n                onColumnResizeMove: _this2.handleColumnResizeMove\n              });\n            }\n\n            headerCells.push(React.cloneElement(columnChildren[0], _extends({}, cellProps, headerCellProps)));\n          }\n\n          bodyCells.push(React.cloneElement(columnChildren[1], cellProps));\n\n          left += nextWidth;\n        }\n      });\n\n      this._cacheCells = {\n        headerCells: headerCells,\n        bodyCells: bodyCells,\n        allColumnsWidth: left\n      };\n\n      return this._cacheCells;\n    }\n\n    // 处理移动端 Touch 事件,  Start 的时候初始化 x,y\n\n\n    // 处理移动端 Touch 事件, Move 的时候初始化，更新 scroll\n\n\n    /**\n     * 当用户在 Table 内使用 tab 键，触发了 onScroll 事件，这个时候应该更新滚动条位置\n     * https://github.com/rsuite/rsuite/issues/234\n     */\n\n  }, {\n    key: 'initPosition',\n    value: function initPosition() {\n      var _this3 = this;\n\n      if ((0, _utils.isRTL)()) {\n        setTimeout(function () {\n          var _state = _this3.state,\n              contentWidth = _state.contentWidth,\n              width = _state.width;\n\n\n          _this3.scrollX = width - contentWidth - _constants.SCROLLBAR_WIDTH;\n          _this3.updatePosition();\n          _this3.scrollbarX && _this3.scrollbarX.resetScrollBarPosition(-_this3.scrollX);\n        }, 0);\n      }\n    }\n  }, {\n    key: 'updatePosition',\n    value: function updatePosition() {\n      /**\n       * 当存在锁定列情况处理\n       */\n      if (this.state.shouldFixedColumn) {\n        this.updatePositionByFixedCell();\n      } else {\n        var wheelStyle = {};\n        var headerStyle = {};\n\n        this.translateDOMPositionXY(wheelStyle, this.scrollX, this.scrollY);\n        this.translateDOMPositionXY(headerStyle, this.scrollX, 0);\n        this.wheelWrapper && (0, _domLib.addStyle)(this.wheelWrapper, wheelStyle);\n        this.headerWrapper && (0, _domLib.addStyle)(this.headerWrapper, headerStyle);\n      }\n\n      if (this.tableHeader) {\n        (0, _utils.toggleClass)(this.tableHeader, this.addPrefix('cell-group-shadow'), this.scrollY < 0);\n      }\n    }\n  }, {\n    key: 'updatePositionByFixedCell',\n    value: function updatePositionByFixedCell() {\n      var wheelGroupStyle = {};\n      var wheelStyle = {};\n      var scrollGroups = this.getScrollCellGroups();\n      var fixedLeftGroups = this.getFixedLeftCellGroups();\n      var fixedRightGroups = this.getFixedRightCellGroups();\n      var _state2 = this.state,\n          contentWidth = _state2.contentWidth,\n          width = _state2.width;\n\n\n      this.translateDOMPositionXY(wheelGroupStyle, this.scrollX, 0);\n      this.translateDOMPositionXY(wheelStyle, 0, this.scrollY);\n\n      var scrollArrayGroups = Array.from(scrollGroups);\n\n      for (var i = 0; i < scrollArrayGroups.length; i++) {\n        var group = scrollArrayGroups[i];\n        (0, _domLib.addStyle)(group, wheelGroupStyle);\n      }\n\n      if (this.wheelWrapper) {\n        (0, _domLib.addStyle)(this.wheelWrapper, wheelStyle);\n      }\n\n      var leftShadowClassName = this.addPrefix('cell-group-left-shadow');\n      var rightShadowClassName = this.addPrefix('cell-group-right-shadow');\n      var showLeftShadow = this.scrollX < 0;\n      var showRightShadow = width - contentWidth - _constants.SCROLLBAR_WIDTH !== this.scrollX;\n\n      (0, _utils.toggleClass)(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n      (0, _utils.toggleClass)(fixedRightGroups, rightShadowClassName, showRightShadow);\n    }\n  }, {\n    key: 'shouldRenderExpandedRow',\n    value: function shouldRenderExpandedRow(rowData) {\n      var _props4 = this.props,\n          rowKey = _props4.rowKey,\n          renderRowExpanded = _props4.renderRowExpanded,\n          isTree = _props4.isTree;\n\n      var expandedRowKeys = this.getExpandedRowKeys() || [];\n\n      return (0, _isFunction3.default)(renderRowExpanded) && !isTree && expandedRowKeys.some(function (key) {\n        return key === rowData[rowKey];\n      });\n    }\n  }, {\n    key: 'calculateRowMaxHeight',\n    value: function calculateRowMaxHeight() {\n      var wordWrap = this.props.wordWrap;\n\n      if (wordWrap) {\n        var _tableRowsMaxHeight = [];\n        var tableRows = Object.entries(this.tableRows);\n\n        for (var i = 0; i < tableRows.length; i++) {\n          var _tableRows$i = _slicedToArray(tableRows[i], 2),\n              row = _tableRows$i[1];\n\n          if (row) {\n            var cells = row.querySelectorAll('.' + this.addPrefix('cell-wrap')) || [];\n            var maxHeight = 0;\n            var cellArray = Array.from(cells);\n            for (var j = 0; j < cellArray.length; j++) {\n              var cell = cellArray[j];\n              var h = (0, _domLib.getHeight)(cell);\n              maxHeight = Math.max(maxHeight, h);\n            }\n            _tableRowsMaxHeight.push(maxHeight);\n          }\n        }\n\n        this.setState({ tableRowsMaxHeight: _tableRowsMaxHeight });\n      }\n    }\n  }, {\n    key: 'calculateTableContentWidth',\n    value: function calculateTableContentWidth(prevProps) {\n      var table = this.table;\n      var row = table.querySelector('.' + this.addPrefix('row') + ':not(.virtualized)');\n      var contentWidth = row ? (0, _domLib.getWidth)(row) : 0;\n\n      this.setState({ contentWidth: contentWidth });\n      // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n      this.minScrollX = -(contentWidth - this.state.width) - _constants.SCROLLBAR_WIDTH;\n\n      /**\n       * 1.判断 Table 列数是否发生变化\n       * 2.判断 Table 内容区域是否宽度有变化\n       *\n       *\n       * 满足 1 和 2 则更新横向滚动条位置\n       */\n\n      if ((0, _flatten3.default)(this.props.children).length !== (0, _flatten3.default)(prevProps.children).length && this.state.contentWidth !== contentWidth) {\n        this.scrollLeft(0);\n      }\n    }\n  }, {\n    key: 'calculateTableContextHeight',\n    value: function calculateTableContextHeight(prevProps) {\n      var table = this.table;\n      var rows = table.querySelectorAll('.' + this.addPrefix('row')) || [];\n      var _props5 = this.props,\n          height = _props5.height,\n          autoHeight = _props5.autoHeight,\n          rowHeight = _props5.rowHeight;\n\n      var headerHeight = this.getTableHeaderHeight();\n      var contentHeight = rows.length ? Array.from(rows).map(function (row) {\n        return (0, _domLib.getHeight)(row) || rowHeight;\n      }).reduce(function (x, y) {\n        return x + y;\n      }) : 0;\n\n      var nextContentHeight = contentHeight - headerHeight;\n      this.setState({\n        contentHeight: nextContentHeight\n      });\n\n      if (prevProps && (\n      // 当 data 更新，或者表格高度更新，则更新滚动条\n      prevProps.height !== height || prevProps.data !== this.props.data) && this.scrollY !== 0) {\n        this.scrollTop(Math.abs(this.scrollY));\n        this.updatePosition();\n      }\n\n      if (!autoHeight) {\n        // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n        this.minScrollY = -(contentHeight - height) - _constants.SCROLLBAR_WIDTH;\n      }\n\n      // 如果内容区域的高度小于表格的高度，则重置 Y 坐标滚动条\n      if (contentHeight < height) {\n        this.scrollTop(0);\n      }\n\n      // 如果 scrollTop 的值大于可以滚动的范围 ，则重置 Y 坐标滚动条\n      // 当 Table 为 virtualized 时， wheel 事件触发每次都会进入该逻辑， 避免在滚动到底部后滚动条重置, +SCROLLBAR_WIDTH\n      if (Math.abs(this.scrollY) + height - headerHeight > nextContentHeight + _constants.SCROLLBAR_WIDTH) {\n        this.scrollTop(this.scrollY);\n      }\n    }\n\n    /**\n     * public method\n     * top 值是表格理论滚动位置的一个值，通过 top 计算出 scrollY 坐标值与滚动条位置的值\n     */\n\n\n    // public method\n\n  }, {\n    key: 'renderRowData',\n    value: function renderRowData(bodyCells, rowData, props, shouldRenderExpandedRow) {\n      var _props6 = this.props,\n          renderTreeToggle = _props6.renderTreeToggle,\n          rowKey = _props6.rowKey,\n          wordWrap = _props6.wordWrap,\n          isTree = _props6.isTree;\n\n      var hasChildren = isTree && rowData.children && Array.isArray(rowData.children);\n      var nextRowKey = typeof rowData[rowKey] !== 'undefined' ? rowData[rowKey] : props.index;\n\n      var rowProps = {\n        rowRef: this.bindTableRowsRef(props.index),\n        onClick: this.bindRowClick(rowData),\n        key: props.index,\n        width: props.rowWidth,\n        height: props.rowHeight,\n        top: props.top\n      };\n\n      var expandedRowKeys = this.getExpandedRowKeys() || [];\n      var expanded = expandedRowKeys.some(function (key) {\n        return key === rowData[rowKey];\n      });\n      var cells = [];\n\n      for (var i = 0; i < bodyCells.length; i++) {\n        var cell = bodyCells[i];\n        cells.push(React.cloneElement(cell, {\n          hasChildren: hasChildren,\n          rowData: rowData,\n          wordWrap: wordWrap,\n          renderTreeToggle: renderTreeToggle,\n          height: props.rowHeight,\n          rowIndex: props.index,\n          depth: props.depth,\n          onTreeToggle: this.handleTreeToggle,\n          rowKey: nextRowKey,\n          className: (0, _classnames2.default)(_defineProperty({}, this.addPrefix('cell-expanded'), expanded))\n        }));\n      }\n\n      return this.renderRow(rowProps, cells, shouldRenderExpandedRow, rowData);\n    }\n  }, {\n    key: 'renderRow',\n    value: function renderRow(props, cells, shouldRenderExpandedRow, rowData) {\n      var rowClassName = this.props.rowClassName;\n      var _state3 = this.state,\n          shouldFixedColumn = _state3.shouldFixedColumn,\n          width = _state3.width,\n          contentWidth = _state3.contentWidth;\n\n\n      props.updatePosition = this.translateDOMPositionXY;\n\n      if (typeof rowClassName === 'function') {\n        props.className = rowClassName(rowData);\n      } else {\n        props.className = rowClassName;\n      }\n\n      var rowStyles = {};\n      var rowRight = 0;\n\n      if ((0, _utils.isRTL)() && contentWidth > width) {\n        rowRight = width - contentWidth;\n        rowStyles.right = rowRight;\n      }\n\n      // IF there are fixed columns, add a fixed group\n      if (shouldFixedColumn && contentWidth > width) {\n        var fixedLeftCells = [];\n        var fixedRightCells = [];\n        var scrollCells = [];\n        var fixedLeftCellGroupWidth = 0;\n        var fixedRightCellGroupWidth = 0;\n\n        for (var i = 0; i < cells.length; i++) {\n          var cell = cells[i];\n          var _cell$props = cell.props,\n              fixed = _cell$props.fixed,\n              _width2 = _cell$props.width;\n\n\n          var isFixedStart = fixed === 'left' || fixed === true;\n          var isFixedEnd = fixed === 'right';\n\n          if ((0, _utils.isRTL)()) {\n            isFixedStart = fixed === 'right';\n            isFixedEnd = fixed === 'left' || fixed === true;\n          }\n\n          if (isFixedStart) {\n            fixedLeftCells.push(cell);\n            fixedLeftCellGroupWidth += _width2;\n          } else if (isFixedEnd) {\n            fixedRightCells.push(cell);\n            fixedRightCellGroupWidth += _width2;\n          } else {\n            scrollCells.push(cell);\n          }\n        }\n\n        return React.createElement(\n          _Row2.default,\n          _extends({}, props, { style: rowStyles }),\n          fixedLeftCellGroupWidth ? React.createElement(\n            _CellGroup2.default,\n            {\n              fixed: 'left',\n              height: props.isHeaderRow ? props.headerHeight : props.height,\n              width: fixedLeftCellGroupWidth,\n              updatePosition: this.translateDOMPositionXY,\n              style: (0, _utils.isRTL)() ? { right: width - fixedLeftCellGroupWidth - rowRight } : null\n            },\n            (0, _utils.colSpanCells)((0, _utils.resetLeftForCells)(fixedLeftCells))\n          ) : null,\n          React.createElement(\n            _CellGroup2.default,\n            { updatePosition: this.translateDOMPositionXY },\n            (0, _utils.colSpanCells)(scrollCells)\n          ),\n          fixedRightCellGroupWidth ? React.createElement(\n            _CellGroup2.default,\n            {\n              fixed: 'right',\n              style: (0, _utils.isRTL)() ? { right: 0 - rowRight - _constants.SCROLLBAR_WIDTH } : { left: width - fixedRightCellGroupWidth - _constants.SCROLLBAR_WIDTH },\n              height: props.isHeaderRow ? props.headerHeight : props.height,\n              width: fixedRightCellGroupWidth,\n              updatePosition: this.translateDOMPositionXY\n            },\n            (0, _utils.colSpanCells)((0, _utils.resetLeftForCells)(fixedRightCells))\n          ) : null,\n          shouldRenderExpandedRow && this.renderRowExpanded(rowData)\n        );\n      }\n\n      return React.createElement(\n        _Row2.default,\n        _extends({}, props, { style: rowStyles }),\n        React.createElement(\n          _CellGroup2.default,\n          { updatePosition: this.translateDOMPositionXY },\n          (0, _utils.colSpanCells)(cells)\n        ),\n        shouldRenderExpandedRow && this.renderRowExpanded(rowData)\n      );\n    }\n  }, {\n    key: 'renderRowExpanded',\n    value: function renderRowExpanded(rowData) {\n      var _props7 = this.props,\n          renderRowExpanded = _props7.renderRowExpanded,\n          rowExpandedHeight = _props7.rowExpandedHeight;\n\n      var styles = {\n        height: rowExpandedHeight\n      };\n\n      if (typeof renderRowExpanded === 'function') {\n        return React.createElement(\n          'div',\n          { className: this.addPrefix('row-expanded'), style: styles },\n          renderRowExpanded(rowData)\n        );\n      }\n      return null;\n    }\n  }, {\n    key: 'renderMouseArea',\n    value: function renderMouseArea() {\n      var headerHeight = this.getTableHeaderHeight();\n      var styles = { height: this.getTableHeight() };\n      var spanStyles = { height: headerHeight - 1 };\n\n      return React.createElement(\n        'div',\n        { ref: this.bindMouseAreaRef, className: this.addPrefix('mouse-area'), style: styles },\n        React.createElement('span', { style: spanStyles })\n      );\n    }\n  }, {\n    key: 'renderTableHeader',\n    value: function renderTableHeader(headerCells, rowWidth) {\n      var _props8 = this.props,\n          rowHeight = _props8.rowHeight,\n          affixHeader = _props8.affixHeader;\n      var tableWidth = this.state.width;\n\n      var top = typeof affixHeader === 'number' ? affixHeader : 0;\n      var headerHeight = this.getTableHeaderHeight();\n      var rowProps = {\n        rowRef: this.bindTableHeaderRef,\n        width: rowWidth,\n        height: rowHeight,\n        headerHeight: headerHeight,\n        isHeaderRow: true,\n        top: 0\n      };\n\n      var fixedStyle = {\n        position: 'fixed',\n        overflow: 'hidden',\n        height: this.getTableHeaderHeight(),\n        width: tableWidth,\n        top: top\n      };\n\n      // Affix header\n      var header = React.createElement(\n        'div',\n        {\n          className: (0, _classnames2.default)(this.addPrefix('affix-header')),\n          style: fixedStyle,\n          ref: this.bindAffixHeaderRef\n        },\n        this.renderRow(rowProps, headerCells)\n      );\n\n      return React.createElement(\n        React.Fragment,\n        null,\n        (affixHeader === 0 || affixHeader) && header,\n        React.createElement(\n          'div',\n          { className: this.addPrefix('header-row-wrapper'), ref: this.bindHeaderWrapperRef },\n          this.renderRow(rowProps, headerCells)\n        )\n      );\n    }\n  }, {\n    key: 'renderTableBody',\n    value: function renderTableBody(bodyCells, rowWidth) {\n      var _props9 = this.props,\n          rowHeight = _props9.rowHeight,\n          rowExpandedHeight = _props9.rowExpandedHeight,\n          renderRowExpanded = _props9.renderRowExpanded,\n          isTree = _props9.isTree,\n          setRowHeight = _props9.setRowHeight,\n          rowKey = _props9.rowKey,\n          wordWrap = _props9.wordWrap,\n          virtualized = _props9.virtualized;\n\n\n      var headerHeight = this.getTableHeaderHeight();\n      var _state4 = this.state,\n          tableRowsMaxHeight = _state4.tableRowsMaxHeight,\n          isScrolling = _state4.isScrolling,\n          data = _state4.data;\n\n      var height = this.getTableHeight();\n      var bodyHeight = height - headerHeight;\n      var bodyStyles = {\n        top: headerHeight,\n        height: bodyHeight\n      };\n\n      var contentHeight = 0;\n      var topHideHeight = 0;\n      var bottomHideHeight = 0;\n\n      this._visibleRows = [];\n\n      if (data) {\n        var _top = 0; // Row position\n        var minTop = Math.abs(this.scrollY);\n        var maxTop = minTop + height + rowExpandedHeight;\n        var isUncertainHeight = !!(renderRowExpanded || setRowHeight || isTree);\n\n        /**\n        如果开启了 virtualized  同时 Table 中的的行高是可变的，\n        则需要循环遍历 data, 获取每一行的高度。\n        */\n        if (isUncertainHeight && virtualized || !virtualized) {\n          for (var index = 0; index < data.length; index++) {\n            var _rowData = data[index];\n            var maxHeight = tableRowsMaxHeight[index];\n            var nextRowHeight = maxHeight ? maxHeight + _constants.CELL_PADDING_HEIGHT : rowHeight;\n            var shouldRenderExpandedRow = this.shouldRenderExpandedRow(_rowData);\n            var depth = 0;\n\n            if (shouldRenderExpandedRow) {\n              nextRowHeight += rowExpandedHeight;\n            }\n\n            if (isTree) {\n              var parents = (0, _utils.findAllParents)(_rowData, rowKey);\n              var _expandedRowKeys = this.getExpandedRowKeys();\n              depth = parents.length;\n\n              // 树节点如果被关闭，则不渲染\n              if (!(0, _utils.shouldShowRowByExpanded)(_expandedRowKeys, parents)) {\n                continue;\n              }\n            }\n\n            /**\n             * 自定义行高\n             */\n            if (setRowHeight) {\n              nextRowHeight = setRowHeight(_rowData) || rowHeight;\n            }\n\n            contentHeight += nextRowHeight;\n\n            var rowProps = {\n              index: index,\n              top: _top,\n              rowWidth: rowWidth,\n              depth: depth,\n              rowHeight: nextRowHeight\n            };\n\n            _top += nextRowHeight;\n\n            if (virtualized && !wordWrap) {\n              if (_top + nextRowHeight < minTop) {\n                topHideHeight += nextRowHeight;\n                continue;\n              } else if (_top > maxTop) {\n                bottomHideHeight += nextRowHeight;\n                continue;\n              }\n            }\n\n            this._visibleRows.push(this.renderRowData(bodyCells, _rowData, rowProps, shouldRenderExpandedRow));\n          }\n        } else {\n          /**\n          如果 Table 的行高是固定的，则直接通过行高与行数进行计算，\n          减少遍历所有 data 带来的性能消耗\n          */\n\n          var startIndex = Math.max(Math.floor(minTop / rowHeight), 0);\n          var endIndex = Math.min(startIndex + Math.ceil(bodyHeight / rowHeight), data.length);\n\n          contentHeight = data.length * rowHeight;\n          topHideHeight = startIndex * rowHeight;\n          bottomHideHeight = (data.length - endIndex) * rowHeight;\n\n          for (var _index = startIndex; _index < endIndex; _index++) {\n            var _rowData2 = data[_index];\n            var _rowProps = {\n              index: _index,\n              top: _index * rowHeight,\n              rowWidth: rowWidth,\n              rowHeight: rowHeight\n            };\n            this._visibleRows.push(this.renderRowData(bodyCells, _rowData2, _rowProps, false));\n          }\n        }\n      }\n\n      var wheelStyles = {\n        position: 'absolute',\n        height: contentHeight,\n        minHeight: height,\n        pointerEvents: isScrolling ? 'none' : ''\n      };\n      var topRowStyles = { height: topHideHeight };\n      var bottomRowStyles = { height: bottomHideHeight };\n\n      return React.createElement(\n        'div',\n        {\n          ref: this.bindBodyRef,\n          className: this.addPrefix('body-row-wrapper'),\n          style: bodyStyles,\n          onScroll: this.handleBodyScroll\n        },\n        React.createElement(\n          'div',\n          {\n            style: wheelStyles,\n            className: this.addPrefix('body-wheel-area'),\n            ref: this.bindWheelWrapperRef\n          },\n          topHideHeight ? React.createElement(_Row2.default, {\n            style: topRowStyles,\n            className: 'virtualized',\n            updatePosition: this.translateDOMPositionXY\n          }) : null,\n          this._visibleRows,\n          bottomHideHeight ? React.createElement(_Row2.default, {\n            style: bottomRowStyles,\n            className: 'virtualized',\n            updatePosition: this.translateDOMPositionXY\n          }) : null\n        ),\n        this.renderInfo(),\n        this.renderScrollbar(),\n        this.renderLoading()\n      );\n    }\n  }, {\n    key: 'renderInfo',\n    value: function renderInfo() {\n      var _props10 = this.props,\n          locale = _props10.locale,\n          renderEmpty = _props10.renderEmpty,\n          loading = _props10.loading;\n\n      if (this._visibleRows.length || loading) {\n        return null;\n      }\n      var emptyMessage = React.createElement(\n        'div',\n        { className: this.addPrefix('body-info') },\n        locale.emptyMessage\n      );\n\n      return renderEmpty ? renderEmpty(emptyMessage) : emptyMessage;\n    }\n  }, {\n    key: 'renderScrollbar',\n    value: function renderScrollbar() {\n      var disabledScroll = this.props.disabledScroll;\n      var _state5 = this.state,\n          contentWidth = _state5.contentWidth,\n          contentHeight = _state5.contentHeight;\n\n\n      var headerHeight = this.getTableHeaderHeight();\n      var height = this.getTableHeight();\n\n      if (disabledScroll) {\n        return null;\n      }\n\n      return React.createElement(\n        'div',\n        null,\n        React.createElement(_Scrollbar2.default, {\n          length: this.state.width,\n          onScroll: this.handleScrollX,\n          scrollLength: contentWidth,\n          ref: this.bindScrollbarXRef\n        }),\n        React.createElement(_Scrollbar2.default, {\n          vertical: true,\n          length: height - headerHeight,\n          scrollLength: contentHeight,\n          onScroll: this.handleScrollY,\n          ref: this.bindScrollbarYRef\n        })\n      );\n    }\n\n    /**\n     *  show loading\n     */\n\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading() {\n      var _props11 = this.props,\n          locale = _props11.locale,\n          loading = _props11.loading,\n          loadAnimation = _props11.loadAnimation,\n          renderLoading = _props11.renderLoading;\n\n\n      if (!loadAnimation && !loading) {\n        return null;\n      }\n\n      var loadingElement = React.createElement(\n        'div',\n        { className: this.addPrefix('loader-wrapper') },\n        React.createElement(\n          'div',\n          { className: this.addPrefix('loader') },\n          React.createElement('i', { className: this.addPrefix('loader-icon') }),\n          React.createElement(\n            'span',\n            { className: this.addPrefix('loader-text') },\n            locale.loading\n          )\n        )\n      );\n\n      return renderLoading ? renderLoading(loadingElement) : loadingElement;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames2;\n\n      var _props12 = this.props,\n          children = _props12.children,\n          className = _props12.className,\n          _props12$width = _props12.width,\n          width = _props12$width === undefined ? 0 : _props12$width,\n          style = _props12.style,\n          isTree = _props12.isTree,\n          hover = _props12.hover,\n          bordered = _props12.bordered,\n          cellBordered = _props12.cellBordered,\n          wordWrap = _props12.wordWrap,\n          classPrefix = _props12.classPrefix,\n          loading = _props12.loading,\n          showHeader = _props12.showHeader,\n          rest = _objectWithoutProperties(_props12, ['children', 'className', 'width', 'style', 'isTree', 'hover', 'bordered', 'cellBordered', 'wordWrap', 'classPrefix', 'loading', 'showHeader']);\n\n      var isColumnResizing = this.state.isColumnResizing;\n\n      var _getCells = this.getCells(),\n          headerCells = _getCells.headerCells,\n          bodyCells = _getCells.bodyCells,\n          allColumnsWidth = _getCells.allColumnsWidth;\n\n      var rowWidth = allColumnsWidth > width ? allColumnsWidth : width;\n      var clesses = (0, _classnames2.default)(classPrefix, className, (_classNames2 = {}, _defineProperty(_classNames2, this.addPrefix('word-wrap'), wordWrap), _defineProperty(_classNames2, this.addPrefix('treetable'), isTree), _defineProperty(_classNames2, this.addPrefix('bordered'), bordered), _defineProperty(_classNames2, this.addPrefix('cell-bordered'), cellBordered), _defineProperty(_classNames2, this.addPrefix('column-resizing'), isColumnResizing), _defineProperty(_classNames2, this.addPrefix('hover'), hover), _defineProperty(_classNames2, this.addPrefix('loading'), loading), _classNames2));\n\n      var styles = _extends({\n        width: width || 'auto',\n        height: this.getTableHeight()\n      }, style);\n\n      var unhandled = (0, _utils.getUnhandledProps)(Table, rest);\n\n      return React.createElement(\n        'div',\n        _extends({}, unhandled, { className: clesses, style: styles, ref: this.bindTableRef }),\n        showHeader && this.renderTableHeader(headerCells, rowWidth),\n        children && this.renderTableBody(bodyCells, rowWidth),\n        showHeader && this.renderMouseArea()\n      );\n    }\n  }]);\n\n  return Table;\n}(React.Component);\n\nTable.defaultProps = {\n  classPrefix: (0, _utils.defaultClassPrefix)('table'),\n  data: [],\n  defaultSortType: SORT_TYPE.DESC,\n  height: 200,\n  rowHeight: 46,\n  headerHeight: 40,\n  minHeight: 0,\n  rowExpandedHeight: 100,\n  hover: true,\n  showHeader: true,\n  virtualized: false,\n  rowKey: 'key',\n  translate3d: true,\n  locale: {\n    emptyMessage: 'No data found',\n    loading: 'Loading...'\n  }\n};\nTable.handledProps = ['affixHeader', 'autoHeight', 'bodyRef', 'bordered', 'cellBordered', 'children', 'className', 'classPrefix', 'data', 'defaultExpandAllRows', 'defaultExpandedRowKeys', 'defaultSortType', 'disabledScroll', 'expandedRowKeys', 'headerHeight', 'height', 'hover', 'isTree', 'loadAnimation', 'loading', 'locale', 'minHeight', 'onExpandChange', 'onRowClick', 'onScroll', 'onSortColumn', 'onTouchMove', 'onTouchStart', 'renderEmpty', 'renderLoading', 'renderRowExpanded', 'renderTreeToggle', 'rowClassName', 'rowExpandedHeight', 'rowHeight', 'rowKey', 'setRowHeight', 'showHeader', 'sortColumn', 'sortType', 'style', 'translate3d', 'virtualized', 'width', 'wordWrap'];\nTable.propTypes = {\n  width: _propTypes2.default.number,\n  data: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n  height: _propTypes2.default.number.isRequired,\n  autoHeight: _propTypes2.default.bool,\n  minHeight: _propTypes2.default.number.isRequired,\n  rowHeight: _propTypes2.default.number.isRequired,\n  headerHeight: _propTypes2.default.number.isRequired,\n  setRowHeight: _propTypes2.default.func,\n  rowKey: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]).isRequired,\n  isTree: _propTypes2.default.bool,\n  defaultExpandAllRows: _propTypes2.default.bool,\n  defaultExpandedRowKeys: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])),\n  expandedRowKeys: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])),\n  renderTreeToggle: _propTypes2.default.func,\n  renderRowExpanded: _propTypes2.default.func,\n  rowExpandedHeight: _propTypes2.default.number,\n  locale: _propTypes2.default.object.isRequired,\n  style: _propTypes2.default.object,\n  sortColumn: _propTypes2.default.string,\n  sortType: _propTypes2.default.oneOf(['desc', 'asc']),\n  defaultSortType: _propTypes2.default.oneOf(['desc', 'asc']),\n  disabledScroll: _propTypes2.default.bool,\n  hover: _propTypes2.default.bool.isRequired,\n  loading: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  classPrefix: _propTypes2.default.string,\n  children: function children() {\n    return (typeof (React.ChildrenArray == null ? {} : React.ChildrenArray) === 'function' ? _propTypes2.default.instanceOf(React.ChildrenArray == null ? {} : React.ChildrenArray).isRequired : _propTypes2.default.any.isRequired).apply(this, arguments);\n  },\n  bordered: _propTypes2.default.bool,\n  cellBordered: _propTypes2.default.bool,\n  wordWrap: _propTypes2.default.bool,\n  onRowClick: _propTypes2.default.func,\n  onScroll: _propTypes2.default.func,\n  onSortColumn: _propTypes2.default.func,\n  onExpandChange: _propTypes2.default.func,\n  onTouchStart: _propTypes2.default.func,\n  // for tests\n  onTouchMove: _propTypes2.default.func,\n  // for tests\n  bodyRef: function bodyRef() {\n    return (typeof (React.ElementRef == null ? {} : React.ElementRef) === 'function' ? _propTypes2.default.instanceOf(React.ElementRef == null ? {} : React.ElementRef) : _propTypes2.default.any).apply(this, arguments);\n  },\n  loadAnimation: _propTypes2.default.bool,\n  showHeader: _propTypes2.default.bool,\n  rowClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  virtualized: _propTypes2.default.bool,\n  renderEmpty: _propTypes2.default.func,\n  renderLoading: _propTypes2.default.func,\n  translate3d: _propTypes2.default.bool,\n  affixHeader: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number])\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this._listenWheel = function (deltaX, deltaY) {\n    _this4.handleWheel(deltaX, deltaY);\n    if (_this4.scrollbarX) {\n      _this4.scrollbarX.onWheelScroll(deltaX);\n    }\n\n    if (_this4.scrollbarY) {\n      _this4.scrollbarY.onWheelScroll(deltaY);\n    }\n  };\n\n  this.setAffixHeaderOffset = function () {\n    var affixHeader = _this4.props.affixHeader;\n\n    if (affixHeader === 0 || affixHeader) {\n      _this4.setState(function () {\n        return { affixHeaderOffset: (0, _domLib.getOffset)(_this4.headerWrapper) };\n      });\n    }\n  };\n\n  this.updateAffixHeaderStatus = function () {\n    var affixHeader = _this4.props.affixHeader;\n\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var _state6 = _this4.state,\n        affixHeaderOffset = _state6.affixHeaderOffset,\n        contentHeight = _state6.contentHeight;\n\n    var scrollY = window.scrollY || window.pageYOffset;\n    var fixedHeader = scrollY - (affixHeaderOffset.top - top) >= 0 && scrollY < affixHeaderOffset.top - top + contentHeight;\n\n    if (_this4.affixHeaderWrapper) {\n      (0, _utils.toggleClass)(_this4.affixHeaderWrapper, 'fixed', fixedHeader);\n    }\n  };\n\n  this.handleSortColumn = function (dataKey) {\n    var _props13 = _this4.props,\n        onSortColumn = _props13.onSortColumn,\n        sortColumn = _props13.sortColumn;\n\n    var sortType = _this4.getSortType();\n\n    if (sortColumn === dataKey) {\n      sortType = sortType === SORT_TYPE.ASC ? SORT_TYPE.DESC : SORT_TYPE.ASC;\n      _this4.setState({\n        sortType: sortType\n      });\n    }\n    onSortColumn && onSortColumn(dataKey, sortType);\n  };\n\n  this._cacheCells = null;\n  this._cacheChildrenSize = 0;\n\n  this.handleColumnResizeEnd = function (columnWidth, cursorDelta, dataKey, index) {\n    _this4._cacheCells = null;\n    _this4.setState(_defineProperty({\n      isColumnResizing: false\n    }, dataKey + '_' + index + '_width', columnWidth));\n\n    (0, _domLib.addStyle)(_this4.mouseArea, {\n      display: 'none'\n    });\n  };\n\n  this.handleColumnResizeStart = function (width, left, fixed) {\n    _this4.setState({\n      isColumnResizing: true\n    });\n    _this4.handleColumnResizeMove(width, left, fixed);\n  };\n\n  this.handleColumnResizeMove = function (width, left, fixed) {\n    var mouseAreaLeft = width + left;\n    var x = mouseAreaLeft;\n    var dir = 'left';\n\n    if ((0, _utils.isRTL)()) {\n      mouseAreaLeft += _this4.minScrollX + _constants.SCROLLBAR_WIDTH;\n      dir = 'right';\n    }\n\n    if (!fixed) {\n      x = mouseAreaLeft + ((0, _utils.isRTL)() ? -_this4.scrollX : _this4.scrollX);\n    }\n\n    var styles = _defineProperty({ display: 'block' }, dir, x + 'px');\n\n    (0, _domLib.addStyle)(_this4.mouseArea, styles);\n  };\n\n  this.handleTreeToggle = function (rowKey, rowIndex, rowData) {\n    var onExpandChange = _this4.props.onExpandChange;\n\n    var expandedRowKeys = _this4.getExpandedRowKeys();\n\n    var open = false;\n    var nextExpandedRowKeys = [];\n\n    for (var i = 0; i < expandedRowKeys.length; i++) {\n      var key = expandedRowKeys[i];\n      if (key === rowKey) {\n        open = true;\n      } else {\n        nextExpandedRowKeys.push(key);\n      }\n    }\n\n    if (!open) {\n      nextExpandedRowKeys.push(rowKey);\n    }\n    _this4.setState({\n      expandedRowKeys: nextExpandedRowKeys\n    });\n    onExpandChange && onExpandChange(!open, rowData);\n  };\n\n  this.handleScrollX = function (delta) {\n    _this4.handleWheel(delta, 0);\n  };\n\n  this.handleScrollY = function (delta) {\n    _this4.handleWheel(0, delta);\n  };\n\n  this.disableEventsTimeoutId = null;\n\n  this.handleWheel = function (deltaX, deltaY) {\n    var _props14 = _this4.props,\n        onScroll = _props14.onScroll,\n        virtualized = _props14.virtualized;\n    var _state7 = _this4.state,\n        contentWidth = _state7.contentWidth,\n        width = _state7.width;\n\n\n    if (!_this4.table) {\n      return;\n    }\n\n    var nextScrollX = contentWidth <= width ? 0 : _this4.scrollX - deltaX;\n    var nextScrollY = _this4.scrollY - deltaY;\n\n    _this4.scrollY = Math.min(0, nextScrollY < _this4.minScrollY ? _this4.minScrollY : nextScrollY);\n    _this4.scrollX = Math.min(0, nextScrollX < _this4.minScrollX ? _this4.minScrollX : nextScrollX);\n    _this4.updatePosition();\n\n    onScroll && onScroll(_this4.scrollX, _this4.scrollY);\n\n    if (virtualized) {\n      _this4.setState({\n        isScrolling: true,\n        scrollY: _this4.scrollY\n      });\n\n      if (_this4.disableEventsTimeoutId) {\n        (0, _utils.cancelAnimationTimeout)(_this4.disableEventsTimeoutId);\n      }\n\n      _this4.disableEventsTimeoutId = (0, _utils.requestAnimationTimeout)(_this4.debounceScrollEndedCallback, 150);\n    }\n  };\n\n  this.debounceScrollEndedCallback = function () {\n    _this4.disableEventsTimeoutId = null;\n    _this4.setState({\n      isScrolling: false\n    });\n  };\n\n  this.handleTouchStart = function (event) {\n    var onTouchStart = _this4.props.onTouchStart;\n\n    var _ref = event.touches ? event.touches[0] : {},\n        pageX = _ref.pageX,\n        pageY = _ref.pageY;\n\n    _this4.touchX = pageX;\n    _this4.touchY = pageY;\n    onTouchStart && onTouchStart(event);\n  };\n\n  this.handleTouchMove = function (event) {\n    var _props15 = _this4.props,\n        onTouchMove = _props15.onTouchMove,\n        autoHeight = _props15.autoHeight;\n\n    var _ref2 = event.touches ? event.touches[0] : {},\n        nextPageX = _ref2.pageX,\n        nextPageY = _ref2.pageY;\n\n    var deltaX = _this4.touchX - nextPageX;\n    var deltaY = autoHeight ? 0 : _this4.touchY - nextPageY;\n\n    if (!_this4.shouldHandleWheelY(deltaY) && !_this4.shouldHandleWheelX(deltaX)) {\n      return;\n    }\n\n    event.preventDefault();\n\n    _this4.handleWheel(deltaX, deltaY);\n    _this4.scrollbarX.onWheelScroll(deltaX);\n    _this4.scrollbarY.onWheelScroll(deltaY);\n    _this4.touchX = nextPageX;\n    _this4.touchY = nextPageY;\n\n    onTouchMove && onTouchMove(event);\n  };\n\n  this.handleBodyScroll = function (event) {\n    if (event.target !== _this4.tableBody) {\n      return;\n    }\n\n    var left = (0, _domLib.scrollLeft)(event.target);\n    var top = (0, _domLib.scrollTop)(event.target);\n\n    if (top === 0 && left === 0) {\n      return;\n    }\n\n    _this4._listenWheel(left, top);\n\n    (0, _domLib.scrollLeft)(event.target, 0);\n    (0, _domLib.scrollTop)(event.target, 0);\n  };\n\n  this.shouldHandleWheelX = function (delta) {\n    var _props16 = _this4.props,\n        disabledScroll = _props16.disabledScroll,\n        loading = _props16.loading;\n\n\n    if (delta === 0 || disabledScroll || loading) {\n      return false;\n    }\n\n    return true;\n  };\n\n  this.shouldHandleWheelY = function (delta) {\n    var _props17 = _this4.props,\n        disabledScroll = _props17.disabledScroll,\n        loading = _props17.loading;\n\n    if (delta === 0 || disabledScroll || loading) {\n      return false;\n    }\n    return delta >= 0 && _this4.scrollY > _this4.minScrollY || delta < 0 && _this4.scrollY < 0;\n  };\n\n  this.tableRows = {};\n  this.mounted = false;\n  this.scrollY = 0;\n  this.scrollX = 0;\n\n  this.addPrefix = function (name) {\n    return (0, _utils.prefix)(_this4.props.classPrefix)(name);\n  };\n\n  this.calculateTableWidth = function () {\n    var table = _this4.table;\n    var width = _this4.state.width;\n\n    if (table) {\n      var nextWidth = (0, _domLib.getWidth)(table);\n\n      if (width !== nextWidth) {\n        _this4.scrollX = 0;\n        _this4.scrollbarX && _this4.scrollbarX.resetScrollBarPosition();\n      }\n\n      _this4._cacheCells = null;\n      _this4.setState({\n        width: nextWidth\n      });\n    }\n    _this4.setAffixHeaderOffset();\n  };\n\n  this.scrollTop = function () {\n    var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    _this4.scrollY = -top;\n    _this4.scrollbarY && _this4.scrollbarY.resetScrollBarPosition(top);\n    _this4.updatePosition();\n  };\n\n  this.scrollLeft = function () {\n    var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    _this4.scrollX = -left;\n    _this4.scrollbarX && _this4.scrollbarX.resetScrollBarPosition(left);\n    _this4.updatePosition();\n  };\n\n  this.bindTableRowsRef = function (index) {\n    return function (ref) {\n      if (ref) {\n        _this4.tableRows[index] = ref;\n      }\n    };\n  };\n\n  this.bindMouseAreaRef = function (ref) {\n    _this4.mouseArea = ref;\n  };\n\n  this.bindTableHeaderRef = function (ref) {\n    _this4.tableHeader = ref;\n  };\n\n  this.bindHeaderWrapperRef = function (ref) {\n    _this4.headerWrapper = ref;\n  };\n\n  this.bindAffixHeaderRef = function (ref) {\n    _this4.affixHeaderWrapper = ref;\n  };\n\n  this.bindTableRef = function (ref) {\n    _this4.table = ref;\n  };\n\n  this.bindWheelWrapperRef = function (ref) {\n    var bodyRef = _this4.props.bodyRef;\n\n    _this4.wheelWrapper = ref;\n    bodyRef && bodyRef(ref);\n  };\n\n  this.bindBodyRef = function (ref) {\n    _this4.tableBody = ref;\n  };\n\n  this.bindScrollbarXRef = function (ref) {\n    _this4.scrollbarX = ref;\n  };\n\n  this.bindScrollbarYRef = function (ref) {\n    _this4.scrollbarY = ref;\n  };\n\n  this.bindRowClick = function (rowData) {\n    var onRowClick = _this4.props.onRowClick;\n\n    return function (event) {\n      onRowClick && onRowClick(rowData, event);\n    };\n  };\n\n  this._visibleRows = [];\n};\n\nexports.default = Table;"]},"metadata":{},"sourceType":"script"}